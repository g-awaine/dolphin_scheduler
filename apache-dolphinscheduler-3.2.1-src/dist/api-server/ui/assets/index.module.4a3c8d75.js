import{u as i,bN as w,t as u,a as p,e as d,w as _}from"./index.851b5188.js";import{A as c,a as m}from"./ArrowUpOutlined.284f08d8.js";import{N as b}from"./Icon.afc45566.js";import{q as k}from"./index.2d754617.js";import{q as G}from"./index.71fea87c.js";function I(){const{t:e}=i(),l=w([{label:"HIGHEST",value:"HIGHEST",icon:c,color:"#ff0000"},{label:"HIGH",value:"HIGH",icon:c,color:"#ff0000"},{label:"MEDIUM",value:"MEDIUM",icon:c,color:"#EA7D24"},{label:"LOW",value:"LOW",icon:m,color:"#2A8734"},{label:"LOWEST",value:"LOWEST",icon:m,color:"#2A8734"}]),t=({node:a,option:r})=>u(a,null,{default:()=>[u(b,{color:r.color},{default:()=>u(r.icon)}),u("span",{style:{"z-index":1}},r.label)]});return{type:"select",field:"taskPriority",name:e("project.node.task_priority"),options:l,validate:{required:!0},props:{renderOption:t},value:"MEDIUM"}}function A(){const{t:e}=i(),l=p([]),t=p(!1),a=async()=>{if(t.value)return;t.value=!0;const r=await k();l.value=r.map(s=>({label:s,value:s})),t.value=!1};return d(()=>{a()}),{type:"select",field:"workerGroup",span:12,name:e("project.node.worker_group"),props:{loading:t},options:l,validate:{trigger:["input","blur"],required:!0,message:e("project.node.worker_group_tips")},value:"default"}}function C(e,l){const{t}=i();let a=[];const r=p([]),s=p(!1);let f=!1;const y=async()=>{if(s.value)return;s.value=!0,a=(await G()).map(n=>({label:n.name,value:n.code,workerGroups:n.workerGroups})),r.value=a.filter(n=>v(n)),s.value=!1,r.value.length===0?e.environmentCode=null:l&&!e.environmentCode&&(e.environmentCode=r.value[0].value)},v=o=>{var n;return!e.workerGroup||!((n=o==null?void 0:o.workerGroups)!=null&&n.length)?!1:o.workerGroups.indexOf(e.workerGroup)!==-1};return _(()=>e.workerGroup,()=>{!e.workerGroup||!f||(r.value=a.filter(o=>v(o)),e!=null&&e.environmentCode?r.value&&(r.value.find(n=>n.value===e.environmentCode)!==void 0||(e.environmentCode=null)):e.environmentCode=r.value.length===0?null:r.value[0].value)}),d(async()=>{await y(),f=!0}),{type:"select",field:"environmentCode",span:12,name:t("project.node.environment_name"),props:{loading:s,clearable:!0},options:r}}function H(){const{t:e}=i();return[{type:"input-number",field:"failRetryTimes",name:e("project.node.number_of_failed_retries"),span:12,props:{min:0},slots:{suffix:()=>e("project.node.times")}},{type:"input-number",field:"failRetryInterval",name:e("project.node.failed_retry_interval"),span:12,props:{min:0},slots:{suffix:()=>e("project.node.minute")}}]}function L(){const{t:e}=i();return[{type:"input-number",field:"cpuQuota",name:e("project.node.cpu_quota"),span:12,slots:{suffix:()=>"%"},props:{min:-1}},{type:"input-number",field:"memoryMax",name:e("project.node.memory_max"),span:12,slots:{suffix:()=>e("project.node.mb")},props:{min:-1}}]}const M={"field-title":"_field-title_1hhfj_17","relaction-label":"_relaction-label_1hhfj_32","relaction-switch":"_relaction-switch_1hhfj_37","display-rows-tips":"_display-rows-tips_1hhfj_55"};export{A as a,C as b,H as c,L as d,M as s,I as u};
