import{d as c,u as m,bt as h,c as e}from"./index.851b5188.js";import{_ as d}from"./lodash.68b7405b.js";import{f as g}from"./common.ee372ad3.js";import{h as w,i as y}from"./index.59799c67.js";import{F as N}from"./FormOutlined.42f04dba.js";import{U as R}from"./UploadOutlined.8bf7c13f.js";import{E as b}from"./EditOutlined.e0b6da4a.js";import{D as F}from"./DownloadOutlined.2b4ed5b8.js";import{I as D}from"./InfoCircleFilled.b53f03a6.js";import{D as v}from"./DeleteOutlined.07e1d3fe.js";import{N as s}from"./Tooltip.52cb9ce9.js";import{N as u}from"./Button.4e249408.js";import{N as l}from"./Icon.afc45566.js";import{N as x}from"./Popconfirm.013915ef.js";import{N as C}from"./Space.f9ece73f.js";import"./SettingOutlined.e20148d7.js";import"./PauseCircleOutlined.28d888d0.js";import"./CloseCircleOutlined.9e282d8c.js";import"./CheckCircleOutlined.67794958.js";import"./index.d671386a.js";import"./service.4be3af67.js";import"./ui-setting.39219f0f.js";import"./Popover.30015336.js";import"./index.e739cd60.js";import"./flatten.05a2e46f.js";import"./Scrollbar.7a99b971.js";import"./fade-in.cssr.55dfcced.js";import"./VResizeObserver.6721b9ea.js";import"./use-false-until-truthy.5d7093c9.js";import"./_baseMap.9542141b.js";import"./get.aa32335f.js";import"./utils.f449ed5c.js";import"./format-length.d7d829b3.js";import"./resolve-slot.9e6a0162.js";import"./use-merged-state.e40d3a9f.js";import"./use-compitable.ae5454ac.js";import"./next-frame-once.e5ee25e8.js";import"./is-browser.45c3bd93.js";import"./use-form-item.bb4d7ada.js";import"./use-locale.f8ac8f2c.js";import"./keysOf.ab13e590.js";import"./get-slot.80096ab3.js";import"./index.7a579f81.js";const _={show:{type:Boolean,default:!1},row:{type:Object,default:{name:"",description:"",user_name:""}}},De=c({name:"TableAction",props:_,emits:["updateList","reuploadResource","renameResource"],setup(r,{emit:i}){const{t:p}=m(),f=h();return{t:p,rtDisb:(t,o)=>{const n=t.lastIndexOf("."),a=t.substring(n,t.length);return!(d.includes(g,d.trimStart(a,"."))&&o<1e6)},handleEditFile:t=>{f.push({name:"resource-file-edit",query:{prefix:t.fullName,tenantCode:t.user_name}})},handleDeleteFile:t=>{w(t).then(()=>i("updateList"))},handleReuploadFile:(t,o,n,a)=>{i("reuploadResource",t,o,n,a)},handleRenameFile:(t,o,n,a)=>{i("renameResource",t,o,n,a)},...r}},render(){const{t:r}=m();return e(C,null,{default:()=>[this.row.type!=="UDF"&&e(s,{trigger:"hover"},{default:()=>r("resource.file.edit"),trigger:()=>e(u,{size:"tiny",type:"info",disabled:this.rtDisb(this.row.name,this.row.size),tag:"div",onClick:()=>{this.handleEditFile({fullName:this.row.fullName,user_name:this.row.user_name})},style:{marginRight:"-5px"},circle:!0,class:"btn-edit"},{default:()=>[e(l,null,{default:()=>[e(N,null,null)]})]})}),e(s,{trigger:"hover"},{default:()=>r("resource.file.reupload"),trigger:()=>{var i;return e(u,{size:"tiny",type:"info",onClick:()=>this.handleReuploadFile(this.row.name,this.row.description,this.row.fullName,this.row.user_name),disabled:!!((i=this.row)!=null&&i.directory),style:{marginRight:"-5px"},circle:!0,class:"btn-reupload"},{default:()=>[e(l,null,{default:()=>[e(R,null,null)]})]})}}),e(s,{trigger:"hover"},{default:()=>r("resource.file.rename"),trigger:()=>e(u,{size:"tiny",type:"info",onClick:()=>{this.handleRenameFile(this.row.name,this.row.description,this.row.fullName,this.row.user_name)},style:{marginRight:"-5px"},circle:!0,class:"btn-rename"},{default:()=>[e(l,null,{default:()=>[e(b,null,null)]})]})}),e(s,{trigger:"hover"},{default:()=>r("resource.file.download"),trigger:()=>{var i;return e(u,{size:"tiny",type:"info",disabled:!!((i=this.row)!=null&&i.directory),tag:"div",circle:!0,style:{marginRight:"-5px"},onClick:()=>y({fullName:this.row.fullName}),class:"btn-download"},{default:()=>[e(l,null,{default:()=>[e(F,null,null)]})]})}}),e(s,{trigger:"hover"},{default:()=>r("resource.file.delete"),trigger:()=>e(u,{size:"tiny",type:"error",circle:!0,class:"btn-delete"},{default:()=>[e(x,{"positive-text":r("resource.file.confirm"),"negative-text":r("resource.file.cancel"),onPositiveClick:()=>{this.handleDeleteFile({fullName:this.row.fullName,tenantCode:this.row.user_name})}},{default:()=>r("resource.file.delete_confirm"),icon:()=>e(l,null,{default:()=>[e(D,null,null)]}),trigger:()=>e(l,null,{default:()=>[e(v,null,null)]})})]})})]})}});export{De as default};
