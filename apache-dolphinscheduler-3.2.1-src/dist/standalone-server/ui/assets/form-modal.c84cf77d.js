import{u,aL as f,a as l,d as c,e as d,at as y,ba as g,c as i}from"./index.851b5188.js";import{M as v}from"./index.e69e8738.js";import{m as h}from"./index.336ca31d.js";import{N as D}from"./Form.9f7fa8c1.js";import{N as C}from"./FormItem.f5b3f80b.js";import{N as _}from"./Input.79ba0d48.js";import"./index.8acb741a.js";import"./Button.4e249408.js";import"./is-browser.45c3bd93.js";import"./use-form-item.bb4d7ada.js";import"./resolve-slot.9e6a0162.js";import"./keysOf.ab13e590.js";import"./Card.19bc42e2.js";import"./index.7a579f81.js";import"./index.e739cd60.js";import"./flatten.05a2e46f.js";import"./Scrollbar.7a99b971.js";import"./fade-in.cssr.55dfcced.js";import"./VResizeObserver.6721b9ea.js";import"./use-false-until-truthy.5d7093c9.js";import"./fade-in-scale-up.cssr.5737b1c6.js";import"./utils.f449ed5c.js";import"./index.3ef69258.js";import"./Space.f9ece73f.js";import"./get-slot.80096ab3.js";import"./service.4be3af67.js";import"./ui-setting.39219f0f.js";import"./lodash.68b7405b.js";import"./format-length.d7d829b3.js";import"./get.aa32335f.js";import"./use-locale.f8ac8f2c.js";import"./use-merged-state.e40d3a9f.js";import"./Suffix.21a8a87f.js";function I(){const{t}=u(),o=f({formRef:l(),formData:{queueId:0,priority:0},saving:!1,rules:{priority:{required:!0,trigger:["input","blur"],validator(){if(!(o.formData.priority+""&&o.formData.priority>=0))return new Error(t("resource.task_group_queue.priority_not_empty"))}}}});return{state:o,t}}const q={show:{type:Boolean,default:!1},data:{type:Object}},ir=c({name:"FormModal",props:q,emits:["confirm","cancel"],setup(t,{emit:o}){var m;const{state:r,t:a}=I();d(()=>{r.formData.queueId=t.data.queueId,r.formData.priority=t.data.priority});const e=async()=>{if(!r.saving){r.saving=!0;try{r.formData.priority+""&&(await h(r.formData),o("confirm")),r.saving=!1}catch{r.saving=!1}}},p=()=>{r.formData.priority=0,o("cancel")},s=(m=y())==null?void 0:m.appContext.config.globalProperties.trim;return{...g(r),t:a,onConfirm:e,onCancel:p,trim:s}},render(){const{t,onConfirm:o,onCancel:r,show:a}=this;return i(v,{title:t("resource.task_group_queue.edit_priority"),show:a,onConfirm:o,onCancel:r,confirmLoading:this.saving},{default:()=>[i(D,{rules:this.rules,ref:"formRef"},{default:()=>[i(C,{label:t("resource.task_group_queue.priority"),path:"priority"},{default:()=>[i(_,{allowInput:this.trim,value:this.formData.priority,"onUpdate:value":e=>this.formData.priority=e},null)]})]})]})}});export{ir as default};
