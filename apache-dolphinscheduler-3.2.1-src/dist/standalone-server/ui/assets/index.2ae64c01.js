import{aL as p,d as c,u,bI as l,e as f,w as d,ba as k,c as n}from"./index.851b5188.js";import{C as h}from"./index.6c124806.js";import w from"./gantt-chart.6b5464df.js";import{u as D}from"./index.73124cc7.js";import{c as G}from"./index.4701b8ec.js";import"./Card.19bc42e2.js";import"./resolve-slot.9e6a0162.js";import"./index.7a579f81.js";import"./keysOf.ab13e590.js";import"./lodash.68b7405b.js";import"./index.8b7b126b.js";import"./common.ee372ad3.js";import"./SettingOutlined.e20148d7.js";import"./PauseCircleOutlined.28d888d0.js";import"./CloseCircleOutlined.9e282d8c.js";import"./CheckCircleOutlined.67794958.js";import"./EditOutlined.e0b6da4a.js";import"./index.d671386a.js";import"./service.4be3af67.js";import"./ui-setting.39219f0f.js";function L(){const t=p({seriesData:[],taskList:[]}),o=a=>{t.seriesData=[],t.taskList=[],t.seriesData=a.tasks.map(s=>(t.taskList.push(s.taskName),s))};return{variables:t,getGantt:(a,s)=>{const{state:e}=D(G(a,s).then(r=>{o(r)}),{});return e}}}const H=c({name:"workflow-relation",setup(){const{t,locale:o}=u(),i=l(),{variables:a,getGantt:s}=L(),e=Number(i.params.id),r=Number(i.params.projectCode),m=()=>{a.seriesData=[],a.taskList=[],s(e,r)};return f(()=>{s(e,r)}),d(()=>[o.value],()=>{m()}),{t,...k(a)}},render(){const{t}=this;return n(h,{title:t("project.workflow.gantt")},{default:()=>this.seriesData.length>0&&n(w,{seriesData:this.seriesData,taskList:this.taskList},null)})}});export{H as default};
