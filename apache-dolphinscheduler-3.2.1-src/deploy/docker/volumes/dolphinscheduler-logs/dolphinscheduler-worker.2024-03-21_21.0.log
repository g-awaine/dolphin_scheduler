[WI-0][TI-0] - [INFO] 2024-03-21 21:00:03.911 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8369565217391304 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:00:11.988 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.772972972972973 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:00:13.014 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.768 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:01:57.610 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7741935483870968 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:02:06.684 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7336956521739131 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:02:26.856 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8021978021978022 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:02:43.945 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=167, taskName=num_gen_2, firstSubmitTime=1711026163921, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13001314456096, processDefineVersion=23, appIds=null, processInstanceId=36, scheduleTime=0, globalParams=null, executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"num2","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\n# Generate a random number between 0 and 1\nrandom_number=$((RANDOM % 2))\n\necho \"Random number: ${random_number}\"\necho \"#{setValue(num2=${random_number})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='num_gen_2'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='36'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='167'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='random_numbers_generator'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13001319154336'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13001314456096'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321210243'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.950 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: num_gen_2 to wait queue success
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.950 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.956 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.956 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.957 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.957 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711026163957
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.957 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 36_167
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.957 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 167,
  "taskName" : "num_gen_2",
  "firstSubmitTime" : 1711026163921,
  "startTime" : 1711026163957,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13001314456096/23/36/167.log",
  "processId" : 0,
  "processDefineCode" : 13001314456096,
  "processDefineVersion" : 23,
  "processInstanceId" : 36,
  "scheduleTime" : 0,
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"num2\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\n# Generate a random number between 0 and 1\\nrandom_number=$((RANDOM % 2))\\n\\necho \\\"Random number: ${random_number}\\\"\\necho \\\"#{setValue(num2=${random_number})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "num_gen_2"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "36"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "167"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "random_numbers_generator"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001319154336"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001314456096"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321210243"
    }
  },
  "taskAppId" : "36_167",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.958 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.961 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.961 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.980 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.981 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.982 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/36/167 check successfully
[WI-0][TI-0] - [INFO] 2024-03-21 21:02:43.982 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=168, taskName=num_gen_1, firstSubmitTime=1711026163947, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13001314456096, processDefineVersion=23, appIds=null, processInstanceId=36, scheduleTime=0, globalParams=null, executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"num1","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\n# Generate a random number between 0 and 1\nrandom_number=$((RANDOM % 2))\n\necho \"Random number: ${random_number}\"\necho \"#{setValue(num1=${random_number})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='num_gen_1'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='36'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='168'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='random_numbers_generator'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13001196367136'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13001314456096'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321210243'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.982 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.982 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.983 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.983 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.986 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "num2",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\n# Generate a random number between 0 and 1\nrandom_number=$((RANDOM % 2))\n\necho \"Random number: ${random_number}\"\necho \"#{setValue(num2=${random_number})}\"",
  "resourceList" : [ ]
}
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.987 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.988 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.988 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.988 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:43.988 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:43.993 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: num_gen_1 to wait queue success
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:43.994 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:43.996 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:43.998 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:43.998 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:43.998 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711026163998
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:43.998 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 36_168
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:43.999 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 168,
  "taskName" : "num_gen_1",
  "firstSubmitTime" : 1711026163947,
  "startTime" : 1711026163998,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13001314456096/23/36/168.log",
  "processId" : 0,
  "processDefineCode" : 13001314456096,
  "processDefineVersion" : 23,
  "processInstanceId" : 36,
  "scheduleTime" : 0,
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"num1\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\n# Generate a random number between 0 and 1\\nrandom_number=$((RANDOM % 2))\\n\\necho \\\"Random number: ${random_number}\\\"\\necho \\\"#{setValue(num1=${random_number})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "num_gen_1"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "36"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "168"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "random_numbers_generator"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001196367136"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001314456096"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321210243"
    }
  },
  "taskAppId" : "36_168",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.017 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.017 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.017 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:44.019 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:44.021 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:44.021 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

# Generate a random number between 0 and 1
random_number=$((RANDOM % 2))

echo "Random number: ${random_number}"
echo "#{setValue(num2=${random_number})}"
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:44.021 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:44.021 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/36/167/36_167.sh
[WI-0][TI-167] - [INFO] 2024-03-21 21:02:44.045 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=167, success=true)
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:44.055 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1158
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.096 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.097 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.097 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/36/168 check successfully
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.098 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.098 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.098 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.099 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.117 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "num1",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\n# Generate a random number between 0 and 1\nrandom_number=$((RANDOM % 2))\n\necho \"Random number: ${random_number}\"\necho \"#{setValue(num1=${random_number})}\"",
  "resourceList" : [ ]
}
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.121 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.123 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.136 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.136 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.136 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.137 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.137 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.137 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

# Generate a random number between 0 and 1
random_number=$((RANDOM % 2))

echo "Random number: ${random_number}"
echo "#{setValue(num1=${random_number})}"
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.137 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.137 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/36/168/36_168.sh
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.169 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1168
[WI-0][TI-0] - [INFO] 2024-03-21 21:02:44.173 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
[WI-0][TI-168] - [INFO] 2024-03-21 21:02:44.203 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=168, success=true)
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.273 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/36/168, processId:1168 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.284 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.285 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.285 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.285 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.293 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.294 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.294 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/36/168
[WI-0][TI-167] - [INFO] 2024-03-21 21:02:44.295 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=167)
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.297 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/36/168
[WI-36][TI-168] - [INFO] 2024-03-21 21:02:44.298 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-168] - [INFO] 2024-03-21 21:02:44.303 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=168)
[WI-0][TI-168] - [INFO] 2024-03-21 21:02:44.313 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=168, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:02:45.061 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	Random number: 0
	#{setValue(num2=0)}
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:45.064 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/36/167, processId:1158 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:45.065 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:45.065 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:45.065 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:45.067 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:45.070 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:45.072 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:45.072 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/36/167
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:45.076 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/36/167
[WI-36][TI-167] - [INFO] 2024-03-21 21:02:45.078 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-167] - [INFO] 2024-03-21 21:02:46.033 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=167, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:02:47.998 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=171, taskName=sum_of_numbers, firstSubmitTime=1711026167974, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=16, appIds=null, processInstanceId=37, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='sum_of_numbers'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='171'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002857467552'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321210247'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='37'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:47.999 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: sum_of_numbers to wait queue success
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.000 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.007 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.008 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.008 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.009 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711026168009
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.009 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 37_171
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.009 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 171,
  "taskName" : "sum_of_numbers",
  "firstSubmitTime" : 1711026167974,
  "startTime" : 1711026168009,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/16/37/171.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 16,
  "processInstanceId" : 37,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\nnum1=1\\nnum2=1\\n\\n# Calculate the sum\\nsum=$((num1+num2))\\n\\n# Display the result\\necho \\\"The sum of ${num1} and ${num2} is: $sum\\\"\\n\\necho \\\"#{setValue(sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "sum_of_numbers"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "171"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002857467552"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321210247"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "37"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "37_171",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.010 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.010 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.010 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.034 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.037 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.042 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_16/37/171 check successfully
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.043 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.044 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.045 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.045 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.045 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.045 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.045 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [] successfully
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.045 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.045 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.045 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.046 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.046 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.047 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

num1=1
num2=1

# Calculate the sum
sum=$((num1+num2))

# Display the result
echo "The sum of ${num1} and ${num2} is: $sum"

echo "#{setValue(sum=${sum})}"
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.047 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.049 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_16/37/171/37_171.sh
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:48.064 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1178
[WI-0][TI-171] - [INFO] 2024-03-21 21:02:48.083 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=171, success=true)
[WI-0][TI-171] - [INFO] 2024-03-21 21:02:48.118 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=171)
[WI-0][TI-0] - [INFO] 2024-03-21 21:02:48.974 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7697066101095793 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:02:49.067 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	The sum of 1 and 1 is: 2
	#{setValue(sum=2)}
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:49.070 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_16/37/171, processId:1178 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:49.072 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:49.073 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:49.073 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:49.073 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:49.078 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:49.078 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:49.078 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_16/37/171
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:49.079 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_16/37/171
[WI-37][TI-171] - [INFO] 2024-03-21 21:02:49.079 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-171] - [INFO] 2024-03-21 21:02:50.047 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=171, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:02:51.213 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=173, taskName=Task A, firstSubmitTime=1711026171182, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=16, appIds=null, processInstanceId=37, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""},{"prop":"output_sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\necho \"Task A was completed\"\necho \"#{setValue(task_completed='Task A')}\"\necho \"${task_completed}\"\n\necho \"#{setValue(output_sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='Task A'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, sum=Property{prop='sum', direct=IN, type=INTEGER, value='2'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='173'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002733318688'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321210251'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='37'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.214 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: Task A to wait queue success
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.222 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.225 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.225 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.225 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.225 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711026171225
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.225 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 37_173
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.226 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 173,
  "taskName" : "Task A",
  "firstSubmitTime" : 1711026171182,
  "startTime" : 1711026171225,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/16/37/173.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 16,
  "processInstanceId" : 37,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\necho \\\"Task A was completed\\\"\\necho \\\"#{setValue(task_completed='Task A')}\\\"\\necho \\\"${task_completed}\\\"\\n\\necho \\\"#{setValue(output_sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "Task A"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "sum" : {
      "prop" : "sum",
      "direct" : "IN",
      "type" : "INTEGER",
      "value" : "2"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "173"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002733318688"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321210251"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "37"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "37_173",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"sum\",\"direct\":\"IN\",\"type\":\"INTEGER\",\"value\":\"2\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.226 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.226 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.226 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.248 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.248 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.249 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_16/37/173 check successfully
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.250 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.250 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.259 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.261 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.261 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "task_completed",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  }, {
    "prop" : "output_sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\necho \"Task A was completed\"\necho \"#{setValue(task_completed='Task A')}\"\necho \"${task_completed}\"\n\necho \"#{setValue(output_sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.261 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.262 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}] successfully
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.262 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.262 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.262 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.268 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.268 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.268 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

echo "Task A was completed"
echo "#{setValue(task_completed='Task A')}"
echo ""

echo "#{setValue(output_sum=2)}"
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.268 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.268 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_16/37/173/37_173.sh
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:51.273 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1194
[WI-0][TI-173] - [INFO] 2024-03-21 21:02:52.053 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=173, success=true)
[WI-0][TI-173] - [INFO] 2024-03-21 21:02:52.068 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=173)
[WI-0][TI-0] - [INFO] 2024-03-21 21:02:52.281 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	Task A was completed
	#{setValue(task_completed='Task A')}
	
	#{setValue(output_sum=2)}
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:52.284 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_16/37/173, processId:1194 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:52.289 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:52.290 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:52.290 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:52.293 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:52.296 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:52.297 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:52.297 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_16/37/173
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:52.297 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_16/37/173
[WI-37][TI-173] - [INFO] 2024-03-21 21:02:52.297 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-173] - [INFO] 2024-03-21 21:02:53.060 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=173, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:02:58.208 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=174, taskName=show final state, firstSubmitTime=1711026178170, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13001314456096, processDefineVersion=23, appIds=null, processInstanceId=36, scheduleTime=0, globalParams=null, executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[],"rawScript":"echo \"${num1}\"\necho \"${num2}\"\necho \"${task_completed}\"\necho \"${sum}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='show final state'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='174'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13001393547168'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321210258'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='36'}, num1=Property{prop='num1', direct=IN, type=INTEGER, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='random_numbers_generator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13001314456096'}, num2=Property{prop='num2', direct=IN, type=INTEGER, value='0'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"num1","direct":"IN","type":"INTEGER","value":""},{"prop":"num2","direct":"IN","type":"INTEGER","value":"0"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.229 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: show final state to wait queue success
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.229 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.249 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.249 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.250 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.250 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711026178250
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.250 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 36_174
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.250 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 174,
  "taskName" : "show final state",
  "firstSubmitTime" : 1711026178170,
  "startTime" : 1711026178250,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13001314456096/23/36/174.log",
  "processId" : 0,
  "processDefineCode" : 13001314456096,
  "processDefineVersion" : 23,
  "processInstanceId" : 36,
  "scheduleTime" : 0,
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[],\"rawScript\":\"echo \\\"${num1}\\\"\\necho \\\"${num2}\\\"\\necho \\\"${task_completed}\\\"\\necho \\\"${sum}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "show final state"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "174"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001393547168"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321210258"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "36"
    },
    "num1" : {
      "prop" : "num1",
      "direct" : "IN",
      "type" : "INTEGER",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "random_numbers_generator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001314456096"
    },
    "num2" : {
      "prop" : "num2",
      "direct" : "IN",
      "type" : "INTEGER",
      "value" : "0"
    }
  },
  "taskAppId" : "36_174",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"num1\",\"direct\":\"IN\",\"type\":\"INTEGER\",\"value\":\"\"},{\"prop\":\"num2\",\"direct\":\"IN\",\"type\":\"INTEGER\",\"value\":\"0\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.251 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.254 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.254 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.284 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.284 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.285 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/36/174 check successfully
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.285 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.286 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.286 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.286 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.287 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ ],
  "varPool" : null,
  "rawScript" : "echo \"${num1}\"\necho \"${num2}\"\necho \"${task_completed}\"\necho \"${sum}\"",
  "resourceList" : [ ]
}
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.288 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.288 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"num1","direct":"IN","type":"INTEGER","value":""},{"prop":"num2","direct":"IN","type":"INTEGER","value":"0"}] successfully
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.289 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.289 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.289 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.292 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.292 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.292 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
echo ""
echo "0"
echo "${task_completed}"
echo "${sum}"
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.292 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.293 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/36/174/36_174.sh
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:58.312 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1204
[WI-0][TI-174] - [INFO] 2024-03-21 21:02:59.067 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=174, success=true)
[WI-0][TI-174] - [INFO] 2024-03-21 21:02:59.075 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=174)
[WI-0][TI-0] - [INFO] 2024-03-21 21:02:59.313 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	
	0
	
	
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:59.317 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/36/174, processId:1204 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:59.320 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:59.320 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:59.320 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:59.321 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:59.325 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:59.325 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:59.325 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/36/174
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:59.326 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/36/174
[WI-36][TI-174] - [INFO] 2024-03-21 21:02:59.327 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-174] - [INFO] 2024-03-21 21:03:00.064 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=174, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:03:01.076 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=176, taskName=hello, firstSubmitTime=1711026181052, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13003655208096, processDefineVersion=1, appIds=null, processInstanceId=38, scheduleTime=0, globalParams=[], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[],"rawScript":"#!/bin/bash\n\necho \"Hello, world!\"\n","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='hello'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='38'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='176'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='helo'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13003648543392'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13003655208096'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321210301'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.078 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: hello to wait queue success
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.078 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.080 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.080 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.080 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.080 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711026181080
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.080 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 38_176
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.080 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 176,
  "taskName" : "hello",
  "firstSubmitTime" : 1711026181052,
  "startTime" : 1711026181080,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13003655208096/1/38/176.log",
  "processId" : 0,
  "processDefineCode" : 13003655208096,
  "processDefineVersion" : 1,
  "processInstanceId" : 38,
  "scheduleTime" : 0,
  "globalParams" : "[]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[],\"rawScript\":\"#!/bin/bash\\n\\necho \\\"Hello, world!\\\"\\n\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "hello"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "38"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "176"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "helo"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13003648543392"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13003655208096"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321210301"
    }
  },
  "taskAppId" : "38_176",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.081 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.081 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.081 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.093 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.093 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.094 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13003655208096_1/38/176 check successfully
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.095 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.095 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.097 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.097 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.098 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\necho \"Hello, world!\"\n",
  "resourceList" : [ ]
}
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.098 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.098 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [] successfully
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.098 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.099 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.099 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.101 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.112 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.112 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

echo "Hello, world!"

[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.113 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.113 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13003655208096_1/38/176/38_176.sh
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:01.121 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1214
[WI-0][TI-176] - [INFO] 2024-03-21 21:03:02.081 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=176, success=true)
[WI-0][TI-176] - [INFO] 2024-03-21 21:03:02.098 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=176)
[WI-0][TI-0] - [INFO] 2024-03-21 21:03:02.122 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	Hello, world!
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:02.127 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13003655208096_1/38/176, processId:1214 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:02.128 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:02.128 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:02.128 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:02.129 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:02.133 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:02.134 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:02.134 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13003655208096_1/38/176
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:02.142 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13003655208096_1/38/176
[WI-38][TI-176] - [INFO] 2024-03-21 21:03:02.143 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-176] - [INFO] 2024-03-21 21:03:03.071 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=176, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:07:47.173 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.872 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:07:48.183 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7356948228882835 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:10:55.603 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8172043010752689 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:11:33.831 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7225274725274725 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:15:16.146 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7882037533512064 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:15:31.243 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.763586956521739 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:15:44.356 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8017241379310346 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:16:55.784 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7079889807162534 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:16:56.812 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7161663738863266 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:16:57.814 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.830238726790451 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:17:03.843 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7134670487106017 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:17:06.877 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=177, taskName=sum_of_numbers, firstSubmitTime=1711027026864, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=18, appIds=null, processInstanceId=39, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='sum_of_numbers'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='177'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002857467552'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321211706'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='39'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.877 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: sum_of_numbers to wait queue success
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.878 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.880 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.880 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.880 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.881 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711027026881
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.881 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 39_177
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.881 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 177,
  "taskName" : "sum_of_numbers",
  "firstSubmitTime" : 1711027026864,
  "startTime" : 1711027026881,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/18/39/177.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 18,
  "processInstanceId" : 39,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\nnum1=1\\nnum2=1\\n\\n# Calculate the sum\\nsum=$((num1+num2))\\n\\n# Display the result\\necho \\\"The sum of ${num1} and ${num2} is: $sum\\\"\\n\\necho \\\"#{setValue(sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "sum_of_numbers"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "177"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002857467552"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321211706"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "39"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "39_177",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.885 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.885 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.885 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.890 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.890 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.894 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_18/39/177 check successfully
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.894 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.894 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.895 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.895 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.895 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.895 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.895 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.895 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.896 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.896 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.897 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.897 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.897 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

num1=1
num2=1

# Calculate the sum
sum=$((num1+num2))

# Display the result
echo "The sum of ${num1} and ${num2} is: $sum"

echo "#{setValue(sum=${sum})}"
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.897 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.897 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_18/39/177/39_177.sh
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:06.901 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1392
[WI-0][TI-177] - [INFO] 2024-03-21 21:17:07.275 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=177, success=true)
[WI-0][TI-177] - [INFO] 2024-03-21 21:17:07.296 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=177)
[WI-0][TI-0] - [INFO] 2024-03-21 21:17:07.902 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	The sum of 1 and 1 is: 2
	#{setValue(sum=2)}
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:07.910 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_18/39/177, processId:1392 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:07.911 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:07.914 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:07.914 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:07.915 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:07.921 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:07.922 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:07.922 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_18/39/177
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:07.922 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_18/39/177
[WI-39][TI-177] - [INFO] 2024-03-21 21:17:07.922 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-177] - [INFO] 2024-03-21 21:17:08.257 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=177, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:17:08.891 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8333333333333333 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:17:09.319 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=179, taskName=Task A, firstSubmitTime=1711027029308, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=18, appIds=null, processInstanceId=39, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""},{"prop":"output_sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\necho \"Task A was completed\"\necho '${setValue(task_completed=Task A)}'\n\necho \"${setValue(output_sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='Task A'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, sum=Property{prop='sum', direct=IN, type=INTEGER, value='2'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='179'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002733318688'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321211709'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='39'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.320 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: Task A to wait queue success
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.320 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.321 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.321 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.321 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.322 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711027029322
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.322 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 39_179
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.322 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 179,
  "taskName" : "Task A",
  "firstSubmitTime" : 1711027029308,
  "startTime" : 1711027029322,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/18/39/179.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 18,
  "processInstanceId" : 39,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\necho \\\"Task A was completed\\\"\\necho '${setValue(task_completed=Task A)}'\\n\\necho \\\"${setValue(output_sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "Task A"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "sum" : {
      "prop" : "sum",
      "direct" : "IN",
      "type" : "INTEGER",
      "value" : "2"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "179"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002733318688"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321211709"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "39"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "39_179",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"sum\",\"direct\":\"IN\",\"type\":\"INTEGER\",\"value\":\"2\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.322 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.323 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.323 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.358 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.359 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.359 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_18/39/179 check successfully
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.360 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.360 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.360 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.360 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.361 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "task_completed",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  }, {
    "prop" : "output_sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\necho \"Task A was completed\"\necho '${setValue(task_completed=Task A)}'\n\necho \"${setValue(output_sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.361 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.361 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}] successfully
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.361 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.361 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.361 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.362 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.363 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.367 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

echo "Task A was completed"
echo '${setValue(task_completed=Task A)}'

echo "${setValue(output_sum=${sum})}"
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.371 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.372 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_18/39/179/39_179.sh
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:09.395 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1403
[WI-0][TI-0] - [INFO] 2024-03-21 21:17:09.406 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
[WI-0][TI-179] - [INFO] 2024-03-21 21:17:10.270 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=179, success=true)
[WI-0][TI-179] - [INFO] 2024-03-21 21:17:10.283 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=179)
[WI-0][TI-0] - [INFO] 2024-03-21 21:17:10.421 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	Task A was completed
	${setValue(task_completed=Task A)}
	/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_18/39/179/39_179.sh: line 9: ${setValue(output_sum=${sum})}: bad substitution
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:10.422 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_18/39/179, processId:1403 ,exitStatusCode:1 ,processWaitForStatus:true ,processExitValue:1
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:10.424 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:10.425 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:10.425 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:10.425 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:10.435 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: FAILURE to master : 172.20.0.5:1234
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:10.436 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:10.437 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_18/39/179
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:10.438 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_18/39/179
[WI-39][TI-179] - [INFO] 2024-03-21 21:17:10.438 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-179] - [INFO] 2024-03-21 21:17:11.259 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=179, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:17:19.970 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8405405405405405 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:17:20.990 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7857142857142857 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:17:23.010 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7526315789473683 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:17:32.060 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.771186440677966 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:18:26.409 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7861106319360589 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:18:27.445 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7074326993622665 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:18:29.460 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7026954177897575 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:18:33.503 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7696476964769647 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:18:42.630 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.743008979007485 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:18:43.666 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8907253536941389 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:18:46.556 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=180, taskName=sum_of_numbers, firstSubmitTime=1711027126520, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=19, appIds=null, processInstanceId=40, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='sum_of_numbers'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='180'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002857467552'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321211846'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='40'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.559 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: sum_of_numbers to wait queue success
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.560 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.566 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.566 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.566 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.566 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711027126566
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.567 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 40_180
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.568 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 180,
  "taskName" : "sum_of_numbers",
  "firstSubmitTime" : 1711027126520,
  "startTime" : 1711027126566,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/19/40/180.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 19,
  "processInstanceId" : 40,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\nnum1=1\\nnum2=1\\n\\n# Calculate the sum\\nsum=$((num1+num2))\\n\\n# Display the result\\necho \\\"The sum of ${num1} and ${num2} is: $sum\\\"\\n\\necho \\\"#{setValue(sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "sum_of_numbers"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "180"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002857467552"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321211846"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "40"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "40_180",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.569 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.569 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.569 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.578 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.579 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.580 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_19/40/180 check successfully
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.581 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.581 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.582 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.584 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.585 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.586 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.586 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.586 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.586 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.586 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.591 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.592 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.592 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

num1=1
num2=1

# Calculate the sum
sum=$((num1+num2))

# Display the result
echo "The sum of ${num1} and ${num2} is: $sum"

echo "#{setValue(sum=${sum})}"
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.592 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.594 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_19/40/180/40_180.sh
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:46.638 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1431
[WI-0][TI-0] - [INFO] 2024-03-21 21:18:46.641 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
[WI-0][TI-180] - [INFO] 2024-03-21 21:18:47.491 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=180, success=true)
[WI-0][TI-180] - [INFO] 2024-03-21 21:18:47.512 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=180)
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:47.681 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_19/40/180, processId:1431 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:47.681 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:47.681 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:47.681 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:47.681 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:47.685 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:47.686 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:47.686 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_19/40/180
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:47.687 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_19/40/180
[WI-40][TI-180] - [INFO] 2024-03-21 21:18:47.687 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-180] - [INFO] 2024-03-21 21:18:48.505 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=180, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:18:48.700 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8694367497691597 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:18:49.637 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=182, taskName=Task A, firstSubmitTime=1711027129621, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=19, appIds=null, processInstanceId=40, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""},{"prop":"output_sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\necho \"Task A was completed\"\necho \"${setValue(task_completed=Task A)}\"\n\necho \"${setValue(output_sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='Task A'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, sum=Property{prop='sum', direct=IN, type=INTEGER, value='2'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='182'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002733318688'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321211849'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='40'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.652 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: Task A to wait queue success
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.654 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.674 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.675 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.675 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.677 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711027129677
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.677 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 40_182
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.677 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 182,
  "taskName" : "Task A",
  "firstSubmitTime" : 1711027129621,
  "startTime" : 1711027129677,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/19/40/182.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 19,
  "processInstanceId" : 40,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\necho \\\"Task A was completed\\\"\\necho \\\"${setValue(task_completed=Task A)}\\\"\\n\\necho \\\"${setValue(output_sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "Task A"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "sum" : {
      "prop" : "sum",
      "direct" : "IN",
      "type" : "INTEGER",
      "value" : "2"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "182"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002733318688"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321211849"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "40"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "40_182",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"sum\",\"direct\":\"IN\",\"type\":\"INTEGER\",\"value\":\"2\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.678 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.686 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.687 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.709 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.710 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.710 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_19/40/182 check successfully
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.711 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.711 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.717 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.718 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.718 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "task_completed",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  }, {
    "prop" : "output_sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\necho \"Task A was completed\"\necho \"${setValue(task_completed=Task A)}\"\n\necho \"${setValue(output_sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.718 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.719 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}] successfully
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.719 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.719 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.719 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.720 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.720 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.721 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

echo "Task A was completed"
echo "${setValue(task_completed=Task A)}"

echo "${setValue(output_sum=${sum})}"
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.721 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.722 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_19/40/182/40_182.sh
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:49.758 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1442
[WI-0][TI-0] - [INFO] 2024-03-21 21:18:49.781 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7382359563210626 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:18:49.783 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
[WI-0][TI-182] - [INFO] 2024-03-21 21:18:50.510 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=182, success=true)
[WI-0][TI-182] - [INFO] 2024-03-21 21:18:50.522 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=182)
[WI-0][TI-0] - [INFO] 2024-03-21 21:18:50.794 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	Task A was completed
	/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_19/40/182/40_182.sh: line 7: ${setValue(task_completed=Task A)}: bad substitution
	/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_19/40/182/40_182.sh: line 9: ${setValue(output_sum=${sum})}: bad substitution
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:50.800 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_19/40/182, processId:1442 ,exitStatusCode:1 ,processWaitForStatus:true ,processExitValue:1
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:50.801 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:50.801 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:50.801 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:50.801 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:50.806 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: FAILURE to master : 172.20.0.5:1234
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:50.807 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:50.807 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_19/40/182
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:50.813 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_19/40/182
[WI-40][TI-182] - [INFO] 2024-03-21 21:18:50.814 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-182] - [INFO] 2024-03-21 21:18:51.500 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=182, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:18:57.834 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.812170042971148 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:19:05.940 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7336814621409922 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:19:07.015 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.760705289672544 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:20:41.437 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8201634877384196 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:20:42.497 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7032085561497327 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:20:45.546 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8052631578947368 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:20:49.580 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7142857142857143 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:20:50.600 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8652291105121294 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:20:51.602 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7960339943342777 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:20:57.661 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7849607672188317 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:21:00.710 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8802384463534718 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:21:02.777 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7309267503035207 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:21:09.837 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7613636363636364 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:21:11.873 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7519650413091503 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:21:17.020 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.853011501834522 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:21:19.055 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7150684931506849 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:21:22.137 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7068493150684931 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:21:25.450 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=184, taskName=sum_of_numbers, firstSubmitTime=1711027285416, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=20, appIds=null, processInstanceId=42, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='sum_of_numbers'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='184'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002857467552'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321212125'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='42'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.453 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: sum_of_numbers to wait queue success
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.454 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.478 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.478 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.478 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.478 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711027285478
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.479 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 42_184
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.480 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 184,
  "taskName" : "sum_of_numbers",
  "firstSubmitTime" : 1711027285416,
  "startTime" : 1711027285478,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/20/42/184.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 20,
  "processInstanceId" : 42,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\nnum1=1\\nnum2=1\\n\\n# Calculate the sum\\nsum=$((num1+num2))\\n\\n# Display the result\\necho \\\"The sum of ${num1} and ${num2} is: $sum\\\"\\n\\necho \\\"#{setValue(sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "sum_of_numbers"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "184"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002857467552"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321212125"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "42"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "42_184",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.481 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.485 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.490 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.497 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.497 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.498 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_20/42/184 check successfully
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.498 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.499 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.502 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.504 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.504 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.505 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.505 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.505 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.505 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.506 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.507 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.507 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.507 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

num1=1
num2=1

# Calculate the sum
sum=$((num1+num2))

# Display the result
echo "The sum of ${num1} and ${num2} is: $sum"

echo "#{setValue(sum=${sum})}"
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.508 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.509 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_20/42/184/42_184.sh
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:25.529 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1486
[WI-0][TI-184] - [INFO] 2024-03-21 21:21:25.786 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=184, success=true)
[WI-0][TI-184] - [INFO] 2024-03-21 21:21:25.798 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=184)
[WI-0][TI-0] - [INFO] 2024-03-21 21:21:26.532 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	The sum of 1 and 1 is: 2
	#{setValue(sum=2)}
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:26.537 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_20/42/184, processId:1486 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:26.537 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:26.538 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:26.538 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:26.538 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:26.546 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:26.546 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:26.546 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_20/42/184
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:26.547 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_20/42/184
[WI-42][TI-184] - [INFO] 2024-03-21 21:21:26.547 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-184] - [INFO] 2024-03-21 21:21:26.768 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=184, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:21:27.913 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=186, taskName=Task A, firstSubmitTime=1711027287881, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=20, appIds=null, processInstanceId=42, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":"Task A"},{"prop":"output_sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\necho \"Task A was completed\"\n\necho \"${setValue(output_sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='Task A'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, sum=Property{prop='sum', direct=IN, type=INTEGER, value='2'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='186'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002733318688'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321212127'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='42'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:27.919 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: Task A to wait queue success
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:27.954 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:27.979 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:27.989 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:27.990 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:27.990 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711027287990
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:27.990 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 42_186
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:27.991 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 186,
  "taskName" : "Task A",
  "firstSubmitTime" : 1711027287881,
  "startTime" : 1711027287990,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/20/42/186.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 20,
  "processInstanceId" : 42,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"Task A\"},{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\necho \\\"Task A was completed\\\"\\n\\necho \\\"${setValue(output_sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "Task A"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "sum" : {
      "prop" : "sum",
      "direct" : "IN",
      "type" : "INTEGER",
      "value" : "2"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "186"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002733318688"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321212127"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "42"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "42_186",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"sum\",\"direct\":\"IN\",\"type\":\"INTEGER\",\"value\":\"2\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:27.991 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:27.993 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:27.997 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.015 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.016 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.018 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_20/42/186 check successfully
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.019 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.019 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.022 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.052 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.054 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "task_completed",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : "Task A"
  }, {
    "prop" : "output_sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\necho \"Task A was completed\"\n\necho \"${setValue(output_sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.054 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.054 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}] successfully
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.055 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.055 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.062 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.078 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.079 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.079 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

echo "Task A was completed"

echo "${setValue(output_sum=${sum})}"
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.079 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.080 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_20/42/186/42_186.sh
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:28.128 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1497
[WI-0][TI-0] - [INFO] 2024-03-21 21:21:28.138 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
[WI-0][TI-0] - [INFO] 2024-03-21 21:21:28.189 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8989071038251367 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-186] - [INFO] 2024-03-21 21:21:28.842 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=186, success=true)
[WI-0][TI-186] - [INFO] 2024-03-21 21:21:28.877 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=186)
[WI-0][TI-0] - [INFO] 2024-03-21 21:21:29.159 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	Task A was completed
	/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_20/42/186/42_186.sh: line 8: ${setValue(output_sum=${sum})}: bad substitution
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:29.165 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_20/42/186, processId:1497 ,exitStatusCode:1 ,processWaitForStatus:true ,processExitValue:1
[WI-42][TI-186] - [WARN] 2024-03-21 21:21:29.220 +0800 o.a.d.p.t.a.p.AbstractParameters:[152] - Cannot find the output parameter task_completed in the task output parameters
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:29.223 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:29.223 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:29.224 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-0][TI-0] - [INFO] 2024-03-21 21:21:29.225 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8980262162080345 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:29.225 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:29.264 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: FAILURE to master : 172.20.0.5:1234
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:29.265 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:29.265 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_20/42/186
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:29.266 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_20/42/186
[WI-42][TI-186] - [INFO] 2024-03-21 21:21:29.266 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-186] - [INFO] 2024-03-21 21:21:29.795 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=186, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:21:30.231 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8914531313958248 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:23:37.944 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.748587570621469 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:24:01.101 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7106820699477765 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:08.491 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7853107344632769 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:09.512 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8818530784284209 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:10.527 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7799598512316959 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:11.528 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8285714285714286 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:18.582 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7526954177897575 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:19.633 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7694226606070165 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:20.635 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7036088027085257 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:22.652 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7257617728531855 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:24.681 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7303370786516853 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:26.786 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9039231601731601 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:27.824 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7795991886900978 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:28.829 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7103064066852368 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:29.842 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8934501085410586 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:31.878 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8463611859838275 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:38.121 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7945205479452054 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:41.233 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=187, taskName=sum_of_numbers, firstSubmitTime=1711027541209, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=21, appIds=null, processInstanceId=43, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='sum_of_numbers'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='187'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002857467552'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321212541'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='43'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.234 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: sum_of_numbers to wait queue success
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.234 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.237 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.237 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.237 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.237 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711027541237
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.237 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 43_187
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.239 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 187,
  "taskName" : "sum_of_numbers",
  "firstSubmitTime" : 1711027541209,
  "startTime" : 1711027541237,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/21/43/187.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 21,
  "processInstanceId" : 43,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\nnum1=1\\nnum2=1\\n\\n# Calculate the sum\\nsum=$((num1+num2))\\n\\n# Display the result\\necho \\\"The sum of ${num1} and ${num2} is: $sum\\\"\\n\\necho \\\"#{setValue(sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "sum_of_numbers"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "187"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002857467552"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321212541"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "43"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "43_187",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.240 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.251 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.251 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.264 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.264 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.265 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_21/43/187 check successfully
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.265 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.269 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.270 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.270 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.270 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.271 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.271 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.271 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.271 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.271 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.273 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.274 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.274 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

num1=1
num2=1

# Calculate the sum
sum=$((num1+num2))

# Display the result
echo "The sum of ${num1} and ${num2} is: $sum"

echo "#{setValue(sum=${sum})}"
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.274 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.274 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_21/43/187/43_187.sh
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:41.304 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1555
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:41.305 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
[WI-0][TI-187] - [INFO] 2024-03-21 21:25:41.562 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=187, success=true)
[WI-0][TI-187] - [INFO] 2024-03-21 21:25:41.570 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=187)
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:42.243 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7768817204301075 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:42.314 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	The sum of 1 and 1 is: 2
	#{setValue(sum=2)}
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:42.316 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_21/43/187, processId:1555 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:42.317 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:42.317 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:42.317 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:42.317 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:42.322 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:42.322 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:42.322 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_21/43/187
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:42.323 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_21/43/187
[WI-43][TI-187] - [INFO] 2024-03-21 21:25:42.323 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-187] - [INFO] 2024-03-21 21:25:42.561 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=187, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:43.690 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=189, taskName=Task A, firstSubmitTime=1711027543671, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=21, appIds=null, processInstanceId=43, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":"\"Task A\""},{"prop":"output_sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\necho \"Task A was completed\"\n\necho \"${setValue(output_sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='Task A'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, sum=Property{prop='sum', direct=IN, type=INTEGER, value='2'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='189'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002733318688'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321212543'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='43'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.691 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: Task A to wait queue success
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.692 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.700 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.703 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.704 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.704 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711027543704
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.705 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 43_189
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.707 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 189,
  "taskName" : "Task A",
  "firstSubmitTime" : 1711027543671,
  "startTime" : 1711027543704,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/21/43/189.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 21,
  "processInstanceId" : 43,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\\\"Task A\\\"\"},{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\necho \\\"Task A was completed\\\"\\n\\necho \\\"${setValue(output_sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "Task A"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "sum" : {
      "prop" : "sum",
      "direct" : "IN",
      "type" : "INTEGER",
      "value" : "2"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "189"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002733318688"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321212543"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "43"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "43_189",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"sum\",\"direct\":\"IN\",\"type\":\"INTEGER\",\"value\":\"2\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.708 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.708 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.709 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.716 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.716 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.717 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_21/43/189 check successfully
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.717 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.718 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.719 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.720 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.720 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "task_completed",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : "\"Task A\""
  }, {
    "prop" : "output_sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\necho \"Task A was completed\"\n\necho \"${setValue(output_sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.720 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.721 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}] successfully
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.721 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.721 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.722 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.722 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.723 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.723 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

echo "Task A was completed"

echo "${setValue(output_sum=${sum})}"
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.724 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.724 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_21/43/189/43_189.sh
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:43.750 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1566
[WI-0][TI-189] - [INFO] 2024-03-21 21:25:44.573 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=189, success=true)
[WI-0][TI-189] - [INFO] 2024-03-21 21:25:44.591 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=189)
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:44.752 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	Task A was completed
	/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_21/43/189/43_189.sh: line 8: ${setValue(output_sum=${sum})}: bad substitution
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:44.757 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_21/43/189, processId:1566 ,exitStatusCode:1 ,processWaitForStatus:true ,processExitValue:1
[WI-43][TI-189] - [WARN] 2024-03-21 21:25:44.759 +0800 o.a.d.p.t.a.p.AbstractParameters:[152] - Cannot find the output parameter task_completed in the task output parameters
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:44.760 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:44.760 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:44.760 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:44.761 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:44.774 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: FAILURE to master : 172.20.0.5:1234
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:44.774 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:44.774 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_21/43/189
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:44.775 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_21/43/189
[WI-43][TI-189] - [INFO] 2024-03-21 21:25:44.776 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-189] - [INFO] 2024-03-21 21:25:45.568 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=189, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:46.304 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7235121614628256 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:25:57.391 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7119565217391304 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:26:00.417 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8548812664907651 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:26:01.434 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7526595744680851 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:26:02.436 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7493036211699164 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:26:04.459 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8238636363636365 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:26:09.504 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7175792507204611 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:26:11.552 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7500222130079375 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:26:14.628 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7177177177177178 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:29:50.502 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7774725274725274 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:29:55.550 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7683923705722071 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:29:56.626 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.743073047858942 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:00.677 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7632311977715878 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:01.802 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.826086956521739 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:02.816 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.797752808988764 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:03.832 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8505418719211822 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:04.836 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9786666666666666 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:41.986 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8989071038251366 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:47.083 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7374301675977654 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:48.113 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=190, taskName=sum_of_numbers, firstSubmitTime=1711027848085, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=22, appIds=null, processInstanceId=44, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='sum_of_numbers'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='190'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002857467552'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321213048'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='44'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.130 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: sum_of_numbers to wait queue success
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.133 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.156 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.157 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.157 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.158 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711027848158
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.158 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 44_190
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.160 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 190,
  "taskName" : "sum_of_numbers",
  "firstSubmitTime" : 1711027848085,
  "startTime" : 1711027848158,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/22/44/190.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 22,
  "processInstanceId" : 44,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\nnum1=1\\nnum2=1\\n\\n# Calculate the sum\\nsum=$((num1+num2))\\n\\n# Display the result\\necho \\\"The sum of ${num1} and ${num2} is: $sum\\\"\\n\\necho \\\"#{setValue(sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "sum_of_numbers"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "190"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002857467552"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321213048"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "44"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "44_190",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.161 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.161 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.162 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.176 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.180 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.181 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_22/44/190 check successfully
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.182 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.182 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.182 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.182 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.182 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.184 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.184 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.184 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.184 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.184 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.185 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.185 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.185 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

num1=1
num2=1

# Calculate the sum
sum=$((num1+num2))

# Display the result
echo "The sum of ${num1} and ${num2} is: $sum"

echo "#{setValue(sum=${sum})}"
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.186 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.186 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_22/44/190/44_190.sh
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:48.209 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1639
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:48.221 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
[WI-0][TI-190] - [INFO] 2024-03-21 21:30:48.567 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=190, success=true)
[WI-0][TI-190] - [INFO] 2024-03-21 21:30:48.579 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=190)
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:49.227 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	The sum of 1 and 1 is: 2
	#{setValue(sum=2)}
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:49.234 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_22/44/190, processId:1639 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:49.234 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:49.234 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:49.234 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:49.246 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:49.254 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:49.254 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:49.254 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_22/44/190
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:49.255 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_22/44/190
[WI-44][TI-190] - [INFO] 2024-03-21 21:30:49.256 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-190] - [INFO] 2024-03-21 21:30:49.565 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=190, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:50.154 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.70428919123808 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:50.793 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=192, taskName=Task A, firstSubmitTime=1711027850753, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=22, appIds=null, processInstanceId=44, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":"\"Task A\""},{"prop":"output_sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\necho \"Task A was completed\"\n\necho \"#${setValue(output_sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='Task A'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, sum=Property{prop='sum', direct=IN, type=INTEGER, value='2'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='192'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002733318688'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321213050'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='44'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.795 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: Task A to wait queue success
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.795 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.797 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.797 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.798 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.798 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711027850798
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.798 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 44_192
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.798 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 192,
  "taskName" : "Task A",
  "firstSubmitTime" : 1711027850753,
  "startTime" : 1711027850798,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/22/44/192.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 22,
  "processInstanceId" : 44,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\\\"Task A\\\"\"},{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\necho \\\"Task A was completed\\\"\\n\\necho \\\"#${setValue(output_sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "Task A"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "sum" : {
      "prop" : "sum",
      "direct" : "IN",
      "type" : "INTEGER",
      "value" : "2"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "192"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002733318688"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321213050"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "44"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "44_192",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"sum\",\"direct\":\"IN\",\"type\":\"INTEGER\",\"value\":\"2\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.800 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.800 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.800 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.820 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.821 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.821 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_22/44/192 check successfully
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.821 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.821 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.822 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.822 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.822 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "task_completed",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : "\"Task A\""
  }, {
    "prop" : "output_sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\necho \"Task A was completed\"\n\necho \"#${setValue(output_sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.823 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.823 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}] successfully
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.824 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.824 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.824 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.825 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.825 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.826 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

echo "Task A was completed"

echo "#${setValue(output_sum=${sum})}"
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.826 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.826 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_22/44/192/44_192.sh
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:50.873 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1650
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:50.878 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:51.211 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.834733893557423 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-192] - [INFO] 2024-03-21 21:30:51.613 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=192, success=true)
[WI-0][TI-192] - [INFO] 2024-03-21 21:30:51.634 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=192)
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:51.964 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	Task A was completed
	/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_22/44/192/44_192.sh: line 8: #${setValue(output_sum=${sum})}: bad substitution
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:51.965 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_22/44/192, processId:1650 ,exitStatusCode:1 ,processWaitForStatus:true ,processExitValue:1
[WI-44][TI-192] - [WARN] 2024-03-21 21:30:51.965 +0800 o.a.d.p.t.a.p.AbstractParameters:[152] - Cannot find the output parameter task_completed in the task output parameters
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:51.965 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:51.965 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:51.965 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:51.966 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:52.005 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: FAILURE to master : 172.20.0.5:1234
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:52.006 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:52.006 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_22/44/192
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:52.016 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_22/44/192
[WI-44][TI-192] - [INFO] 2024-03-21 21:30:52.016 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-0] - [INFO] 2024-03-21 21:30:52.215 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8394366197183099 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-192] - [INFO] 2024-03-21 21:30:52.581 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=192, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:31:49.601 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7078651685393258 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:31:50.622 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7235699113747894 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:32:00.726 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7456397592221022 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:33:07.157 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7089337175792507 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:33:12.196 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7029972752043596 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:33:48.378 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7361111111111112 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:33:49.390 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7058823529411765 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:33:50.394 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8867924528301888 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:33:51.398 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8997289972899729 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:33:52.401 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8319783197831978 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:33:53.404 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7329700272479565 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:33:56.437 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8539944903581267 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:33:58.575 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7043569969019841 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:03.623 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8131792864669577 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:06.757 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7416821849782744 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:08.816 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.716658971991382 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:09.860 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7217985909656031 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:13.026 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7527777777777778 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:14.053 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.859375 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:15.056 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8266525198938992 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:20.102 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7970588235294117 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:30.228 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7595628415300546 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:32.500 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=194, taskName=sum_of_numbers, firstSubmitTime=1711028072486, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=23, appIds=null, processInstanceId=46, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='sum_of_numbers'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='194'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002857467552'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321213432'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='46'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.502 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: sum_of_numbers to wait queue success
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.503 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.546 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.546 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.546 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.546 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711028072546
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.546 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 46_194
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.547 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 194,
  "taskName" : "sum_of_numbers",
  "firstSubmitTime" : 1711028072486,
  "startTime" : 1711028072546,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/23/46/194.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 23,
  "processInstanceId" : 46,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\nnum1=1\\nnum2=1\\n\\n# Calculate the sum\\nsum=$((num1+num2))\\n\\n# Display the result\\necho \\\"The sum of ${num1} and ${num2} is: $sum\\\"\\n\\necho \\\"#{setValue(sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "sum_of_numbers"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "194"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002857467552"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321213432"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "46"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "46_194",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.548 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.548 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.548 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:32.547 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=193, taskName=sum_of_numbers, firstSubmitTime=1711028072473, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=23, appIds=null, processInstanceId=45, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='sum_of_numbers'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='193'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002857467552'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321213432'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='45'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.555 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: sum_of_numbers to wait queue success
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.557 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.558 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.559 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/46/194 check successfully
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.559 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.559 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.556 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.570 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.571 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.571 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.571 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711028072571
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.571 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 45_193
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.564 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.573 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 193,
  "taskName" : "sum_of_numbers",
  "firstSubmitTime" : 1711028072473,
  "startTime" : 1711028072571,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/23/45/193.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 23,
  "processInstanceId" : 45,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\nnum1=1\\nnum2=1\\n\\n# Calculate the sum\\nsum=$((num1+num2))\\n\\n# Display the result\\necho \\\"The sum of ${num1} and ${num2} is: $sum\\\"\\n\\necho \\\"#{setValue(sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "sum_of_numbers"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "193"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002857467552"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321213432"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "45"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "45_193",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.573 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.586 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.586 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.586 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.587 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.574 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.588 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.588 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.588 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.588 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.589 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.589 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.589 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

num1=1
num2=1

# Calculate the sum
sum=$((num1+num2))

# Display the result
echo "The sum of ${num1} and ${num2} is: $sum"

echo "#{setValue(sum=${sum})}"
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.589 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.590 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/46/194/46_194.sh
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.600 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.600 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.601 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/45/193 check successfully
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.601 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.602 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.602 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.602 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.603 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.603 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.604 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.605 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.608 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.628 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.636 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.636 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.636 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

num1=1
num2=1

# Calculate the sum
sum=$((num1+num2))

# Display the result
echo "The sum of ${num1} and ${num2} is: $sum"

echo "#{setValue(sum=${sum})}"
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.636 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.637 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/45/193/45_193.sh
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:32.704 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1714
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:32.710 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:32.753 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1712
[WI-0][TI-193] - [INFO] 2024-03-21 21:34:32.997 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=193, success=true)
[WI-0][TI-194] - [INFO] 2024-03-21 21:34:33.001 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=194, success=true)
[WI-0][TI-193] - [INFO] 2024-03-21 21:34:33.012 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=193)
[WI-0][TI-194] - [INFO] 2024-03-21 21:34:33.027 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=194)
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:33.272 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8589887640449438 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:33.753 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	The sum of 1 and 1 is: 2
	#{setValue(sum=2)}
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:33.759 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	The sum of 1 and 1 is: 2
	#{setValue(sum=2)}
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:33.777 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/46/194, processId:1712 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:33.778 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:33.778 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:33.778 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:33.779 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:33.782 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/45/193, processId:1714 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:33.785 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:33.786 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:33.786 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:33.787 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:33.795 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:33.799 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:33.800 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/46/194
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:33.800 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/46/194
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:33.798 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:33.802 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-46][TI-194] - [INFO] 2024-03-21 21:34:33.801 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:33.802 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/45/193
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:33.803 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/45/193
[WI-45][TI-193] - [INFO] 2024-03-21 21:34:33.804 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-193] - [INFO] 2024-03-21 21:34:33.991 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=193, success=true)
[WI-0][TI-194] - [INFO] 2024-03-21 21:34:33.991 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=194, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:35.104 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=197, taskName=Task A, firstSubmitTime=1711028075071, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=23, appIds=null, processInstanceId=45, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":"\"Task A\""},{"prop":"output_sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\necho \"Task A was completed\"\n\necho \"#{setValue(output_sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='Task A'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, sum=Property{prop='sum', direct=IN, type=INTEGER, value='2'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='197'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002733318688'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321213435'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='45'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.107 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: Task A to wait queue success
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.110 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.112 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.113 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.113 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.113 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711028075113
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.113 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 45_197
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.113 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 197,
  "taskName" : "Task A",
  "firstSubmitTime" : 1711028075071,
  "startTime" : 1711028075113,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/23/45/197.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 23,
  "processInstanceId" : 45,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\\\"Task A\\\"\"},{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\necho \\\"Task A was completed\\\"\\n\\necho \\\"#{setValue(output_sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "Task A"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "sum" : {
      "prop" : "sum",
      "direct" : "IN",
      "type" : "INTEGER",
      "value" : "2"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "197"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002733318688"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321213435"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "45"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "45_197",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"sum\",\"direct\":\"IN\",\"type\":\"INTEGER\",\"value\":\"2\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.114 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.114 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.114 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.136 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.137 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.138 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/45/197 check successfully
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.138 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.138 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.138 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.139 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.139 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "task_completed",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : "\"Task A\""
  }, {
    "prop" : "output_sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\necho \"Task A was completed\"\n\necho \"#{setValue(output_sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.139 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.140 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}] successfully
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.140 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.140 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.140 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.141 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.141 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.141 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

echo "Task A was completed"

echo "#{setValue(output_sum=2)}"
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.141 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.141 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/45/197/45_197.sh
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:35.163 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1733
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:35.238 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=198, taskName=Task A, firstSubmitTime=1711028075201, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=23, appIds=null, processInstanceId=46, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":"\"Task A\""},{"prop":"output_sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\necho \"Task A was completed\"\n\necho \"#{setValue(output_sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='Task A'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, sum=Property{prop='sum', direct=IN, type=INTEGER, value='2'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='198'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002733318688'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321213435'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='46'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.241 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: Task A to wait queue success
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.244 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.257 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.258 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.258 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.258 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711028075258
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.258 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 46_198
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.259 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 198,
  "taskName" : "Task A",
  "firstSubmitTime" : 1711028075201,
  "startTime" : 1711028075258,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/23/46/198.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 23,
  "processInstanceId" : 46,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\\\"Task A\\\"\"},{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\necho \\\"Task A was completed\\\"\\n\\necho \\\"#{setValue(output_sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "Task A"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "sum" : {
      "prop" : "sum",
      "direct" : "IN",
      "type" : "INTEGER",
      "value" : "2"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "198"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002733318688"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321213435"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "46"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "46_198",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"sum\",\"direct\":\"IN\",\"type\":\"INTEGER\",\"value\":\"2\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.276 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.276 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.277 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.321 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.321 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.322 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/46/198 check successfully
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.323 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.344 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:35.346 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7692307692307692 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.346 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.349 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.351 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "task_completed",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : "\"Task A\""
  }, {
    "prop" : "output_sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\necho \"Task A was completed\"\n\necho \"#{setValue(output_sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.352 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.352 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}] successfully
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.352 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.353 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.353 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.378 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.389 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.389 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

echo "Task A was completed"

echo "#{setValue(output_sum=2)}"
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.389 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.389 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/46/198/46_198.sh
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:35.445 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1743
[WI-0][TI-197] - [INFO] 2024-03-21 21:34:36.009 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=197, success=true)
[WI-0][TI-198] - [INFO] 2024-03-21 21:34:36.050 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=198, success=true)
[WI-0][TI-197] - [INFO] 2024-03-21 21:34:36.051 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=197)
[WI-0][TI-198] - [INFO] 2024-03-21 21:34:36.125 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=198)
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:36.165 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	Task A was completed
	#{setValue(output_sum=2)}
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:36.171 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/45/197, processId:1733 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-45][TI-197] - [WARN] 2024-03-21 21:34:36.172 +0800 o.a.d.p.t.a.p.AbstractParameters:[152] - Cannot find the output parameter task_completed in the task output parameters
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:36.172 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:36.172 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:36.173 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:36.175 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:36.242 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:36.242 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:36.242 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/45/197
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:36.249 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/45/197
[WI-45][TI-197] - [INFO] 2024-03-21 21:34:36.250 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:36.428 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9010416666666666 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:36.450 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	Task A was completed
	#{setValue(output_sum=2)}
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:36.489 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/46/198, processId:1743 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-46][TI-198] - [WARN] 2024-03-21 21:34:36.490 +0800 o.a.d.p.t.a.p.AbstractParameters:[152] - Cannot find the output parameter task_completed in the task output parameters
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:36.490 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:36.490 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:36.490 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:36.495 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:36.522 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:36.522 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:36.522 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/46/198
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:36.524 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/46/198
[WI-46][TI-198] - [INFO] 2024-03-21 21:34:36.525 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-198] - [INFO] 2024-03-21 21:34:36.994 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=198, success=true)
[WI-0][TI-197] - [INFO] 2024-03-21 21:34:37.034 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=197, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:37.431 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8360215053763441 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:38.433 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7845303867403315 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:43.490 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7486187845303868 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:44.543 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=199, taskName=sum_of_numbers, firstSubmitTime=1711028084535, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=23, appIds=null, processInstanceId=47, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='sum_of_numbers'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='199'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002857467552'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321213444'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='47'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.545 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: sum_of_numbers to wait queue success
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.545 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.548 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.548 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.549 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.549 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711028084549
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.551 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 47_199
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.551 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 199,
  "taskName" : "sum_of_numbers",
  "firstSubmitTime" : 1711028084535,
  "startTime" : 1711028084549,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/23/47/199.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 23,
  "processInstanceId" : 47,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\nnum1=1\\nnum2=1\\n\\n# Calculate the sum\\nsum=$((num1+num2))\\n\\n# Display the result\\necho \\\"The sum of ${num1} and ${num2} is: $sum\\\"\\n\\necho \\\"#{setValue(sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "sum_of_numbers"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "199"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002857467552"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321213444"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "47"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "47_199",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.553 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.554 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.554 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.558 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.559 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.560 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/47/199 check successfully
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.560 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.560 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.561 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.561 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.561 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.561 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.561 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.561 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.561 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.561 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.562 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.562 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.562 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

num1=1
num2=1

# Calculate the sum
sum=$((num1+num2))

# Display the result
echo "The sum of ${num1} and ${num2} is: $sum"

echo "#{setValue(sum=${sum})}"
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.562 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.562 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/47/199/47_199.sh
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:44.566 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1753
[WI-0][TI-199] - [INFO] 2024-03-21 21:34:45.008 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=199, success=true)
[WI-0][TI-199] - [INFO] 2024-03-21 21:34:45.018 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=199)
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:45.567 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	The sum of 1 and 1 is: 2
	#{setValue(sum=2)}
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:45.571 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/47/199, processId:1753 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:45.574 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:45.574 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:45.574 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:45.574 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:45.578 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:45.578 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:45.578 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/47/199
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:45.580 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/47/199
[WI-47][TI-199] - [INFO] 2024-03-21 21:34:45.580 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-199] - [INFO] 2024-03-21 21:34:46.007 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=199, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:47.277 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=201, taskName=Task A, firstSubmitTime=1711028087181, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=23, appIds=null, processInstanceId=47, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":"\"Task A\""},{"prop":"output_sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\necho \"Task A was completed\"\n\necho \"#{setValue(output_sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='Task A'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, sum=Property{prop='sum', direct=IN, type=INTEGER, value='2'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='201'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002733318688'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321213447'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='47'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.314 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: Task A to wait queue success
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.314 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.395 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.396 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.396 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.396 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711028087396
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.397 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 47_201
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.397 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 201,
  "taskName" : "Task A",
  "firstSubmitTime" : 1711028087181,
  "startTime" : 1711028087396,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/23/47/201.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 23,
  "processInstanceId" : 47,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\\\"Task A\\\"\"},{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\necho \\\"Task A was completed\\\"\\n\\necho \\\"#{setValue(output_sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "Task A"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "sum" : {
      "prop" : "sum",
      "direct" : "IN",
      "type" : "INTEGER",
      "value" : "2"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "201"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002733318688"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321213447"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "47"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "47_201",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"sum\",\"direct\":\"IN\",\"type\":\"INTEGER\",\"value\":\"2\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.397 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.398 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.398 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.429 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.431 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.432 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/47/201 check successfully
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.444 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.445 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.445 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.445 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.445 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "task_completed",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : "\"Task A\""
  }, {
    "prop" : "output_sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\necho \"Task A was completed\"\n\necho \"#{setValue(output_sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.446 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.446 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}] successfully
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.446 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.446 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.446 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.490 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.490 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.491 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

echo "Task A was completed"

echo "#{setValue(output_sum=2)}"
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.491 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.493 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/47/201/47_201.sh
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:47.526 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1763
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:47.642 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8660968660968661 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-201] - [INFO] 2024-03-21 21:34:48.022 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=201, success=true)
[WI-0][TI-201] - [INFO] 2024-03-21 21:34:48.044 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=201)
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:48.528 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	Task A was completed
	#{setValue(output_sum=2)}
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:48.533 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/47/201, processId:1763 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-47][TI-201] - [WARN] 2024-03-21 21:34:48.536 +0800 o.a.d.p.t.a.p.AbstractParameters:[152] - Cannot find the output parameter task_completed in the task output parameters
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:48.536 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:48.536 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:48.536 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:48.536 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:48.542 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:48.543 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:48.543 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/47/201
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:48.545 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/47/201
[WI-47][TI-201] - [INFO] 2024-03-21 21:34:48.545 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-201] - [INFO] 2024-03-21 21:34:49.032 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=201, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:34:59.738 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7744565217391304 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:35:00.765 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7913279132791329 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:35:01.824 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9057644827170902 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:35:02.836 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7319169324289927 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:35:03.862 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7664835164835164 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:35:04.865 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7685714285714286 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:35:06.880 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7903225806451614 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:35:07.916 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7953964194373402 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:35:08.917 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7196765498652292 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:35:09.924 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8579088471849865 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:29.840 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7632837631920537 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:34.869 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8206521739130435 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:39.961 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=202, taskName=num_gen_2, firstSubmitTime=1711028259950, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13001314456096, processDefineVersion=23, appIds=null, processInstanceId=48, scheduleTime=0, globalParams=null, executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"num2","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\n# Generate a random number between 0 and 1\nrandom_number=$((RANDOM % 2))\n\necho \"Random number: ${random_number}\"\necho \"#{setValue(num2=${random_number})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='num_gen_2'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='48'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='202'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='random_numbers_generator'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13001319154336'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13001314456096'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321213739'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.962 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: num_gen_2 to wait queue success
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.962 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.966 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.966 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.966 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.966 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711028259966
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.966 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 48_202
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.967 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 202,
  "taskName" : "num_gen_2",
  "firstSubmitTime" : 1711028259950,
  "startTime" : 1711028259966,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13001314456096/23/48/202.log",
  "processId" : 0,
  "processDefineCode" : 13001314456096,
  "processDefineVersion" : 23,
  "processInstanceId" : 48,
  "scheduleTime" : 0,
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"num2\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\n# Generate a random number between 0 and 1\\nrandom_number=$((RANDOM % 2))\\n\\necho \\\"Random number: ${random_number}\\\"\\necho \\\"#{setValue(num2=${random_number})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "num_gen_2"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "48"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "202"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "random_numbers_generator"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001319154336"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001314456096"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321213739"
    }
  },
  "taskAppId" : "48_202",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.967 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.968 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.968 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.978 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.980 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.980 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/48/202 check successfully
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.981 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.982 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.982 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.983 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.983 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "num2",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\n# Generate a random number between 0 and 1\nrandom_number=$((RANDOM % 2))\n\necho \"Random number: ${random_number}\"\necho \"#{setValue(num2=${random_number})}\"",
  "resourceList" : [ ]
}
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.983 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.983 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.983 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.983 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.983 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:39.988 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=203, taskName=num_gen_1, firstSubmitTime=1711028259965, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13001314456096, processDefineVersion=23, appIds=null, processInstanceId=48, scheduleTime=0, globalParams=null, executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"num1","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\n# Generate a random number between 0 and 1\nrandom_number=$((RANDOM % 2))\n\necho \"Random number: ${random_number}\"\necho \"#{setValue(num1=${random_number})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='num_gen_1'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='48'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='203'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='random_numbers_generator'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13001196367136'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13001314456096'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321213739'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.989 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.989 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:39.990 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: num_gen_1 to wait queue success
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.990 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

# Generate a random number between 0 and 1
random_number=$((RANDOM % 2))

echo "Random number: ${random_number}"
echo "#{setValue(num2=${random_number})}"
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.990 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:39.990 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:39.992 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:39.992 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:39.992 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:39.992 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711028259992
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:39.992 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 48_203
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:39.992 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 203,
  "taskName" : "num_gen_1",
  "firstSubmitTime" : 1711028259965,
  "startTime" : 1711028259992,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13001314456096/23/48/203.log",
  "processId" : 0,
  "processDefineCode" : 13001314456096,
  "processDefineVersion" : 23,
  "processInstanceId" : 48,
  "scheduleTime" : 0,
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"num1\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\n# Generate a random number between 0 and 1\\nrandom_number=$((RANDOM % 2))\\n\\necho \\\"Random number: ${random_number}\\\"\\necho \\\"#{setValue(num1=${random_number})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "num_gen_1"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "48"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "203"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "random_numbers_generator"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001196367136"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001314456096"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321213739"
    }
  },
  "taskAppId" : "48_203",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:39.993 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:39.993 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:39.993 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:39.990 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/48/202/48_202.sh
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.001 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.001 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.002 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/48/203 check successfully
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.002 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.002 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.002 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.002 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.003 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "num1",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\n# Generate a random number between 0 and 1\nrandom_number=$((RANDOM % 2))\n\necho \"Random number: ${random_number}\"\necho \"#{setValue(num1=${random_number})}\"",
  "resourceList" : [ ]
}
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.003 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.003 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.003 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.003 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.003 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.004 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.004 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.004 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

# Generate a random number between 0 and 1
random_number=$((RANDOM % 2))

echo "Random number: ${random_number}"
echo "#{setValue(num1=${random_number})}"
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.004 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.004 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/48/203/48_203.sh
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:40.008 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1813
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:40.009 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1811
[WI-0][TI-202] - [INFO] 2024-03-21 21:37:40.889 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=202, success=true)
[WI-0][TI-203] - [INFO] 2024-03-21 21:37:40.904 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=203, success=true)
[WI-0][TI-203] - [INFO] 2024-03-21 21:37:40.913 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=203)
[WI-0][TI-202] - [INFO] 2024-03-21 21:37:40.925 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=202)
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:41.009 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	Random number: 0
	#{setValue(num1=0)}
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:41.011 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	Random number: 0
	#{setValue(num2=0)}
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:41.015 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/48/203, processId:1813 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:41.022 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/48/202, processId:1811 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:41.024 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:41.022 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:41.024 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:41.024 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:41.024 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:41.024 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:41.024 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:41.024 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:41.032 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:41.033 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:41.033 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/48/203
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:41.033 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/48/203
[WI-48][TI-203] - [INFO] 2024-03-21 21:37:41.033 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:41.035 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:41.035 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:41.036 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/48/202
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:41.036 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/48/202
[WI-48][TI-202] - [INFO] 2024-03-21 21:37:41.036 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-203] - [INFO] 2024-03-21 21:37:41.884 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=203, success=true)
[WI-0][TI-202] - [INFO] 2024-03-21 21:37:41.891 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=202, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:44.057 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=206, taskName=sum_of_numbers, firstSubmitTime=1711028264029, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=23, appIds=null, processInstanceId=49, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='sum_of_numbers'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='206'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002857467552'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321213744'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='49'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.063 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: sum_of_numbers to wait queue success
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.064 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.067 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.068 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.068 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.068 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711028264068
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.068 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 49_206
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.069 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 206,
  "taskName" : "sum_of_numbers",
  "firstSubmitTime" : 1711028264029,
  "startTime" : 1711028264068,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/23/49/206.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 23,
  "processInstanceId" : 49,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\nnum1=1\\nnum2=1\\n\\n# Calculate the sum\\nsum=$((num1+num2))\\n\\n# Display the result\\necho \\\"The sum of ${num1} and ${num2} is: $sum\\\"\\n\\necho \\\"#{setValue(sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "sum_of_numbers"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "206"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002857467552"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321213744"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "49"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "49_206",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.069 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.070 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.070 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.084 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.085 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.086 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/49/206 check successfully
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.087 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.089 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.089 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.090 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.090 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\nnum1=1\nnum2=1\n\n# Calculate the sum\nsum=$((num1+num2))\n\n# Display the result\necho \"The sum of ${num1} and ${num2} is: $sum\"\n\necho \"#{setValue(sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.090 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.091 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [] successfully
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.091 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.091 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.091 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.093 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.102 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.102 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

num1=1
num2=1

# Calculate the sum
sum=$((num1+num2))

# Display the result
echo "The sum of ${num1} and ${num2} is: $sum"

echo "#{setValue(sum=${sum})}"
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.102 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.103 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/49/206/49_206.sh
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:44.122 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1832
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:44.916 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8919948989942903 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-206] - [INFO] 2024-03-21 21:37:44.926 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=206, success=true)
[WI-0][TI-206] - [INFO] 2024-03-21 21:37:44.941 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=206)
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:45.124 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	The sum of 1 and 1 is: 2
	#{setValue(sum=2)}
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:45.129 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/49/206, processId:1832 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:45.129 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:45.130 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:45.130 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:45.130 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:45.138 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:45.138 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:45.139 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/49/206
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:45.139 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/49/206
[WI-49][TI-206] - [INFO] 2024-03-21 21:37:45.140 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-206] - [INFO] 2024-03-21 21:37:45.891 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=206, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:47.042 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=208, taskName=Task A, firstSubmitTime=1711028267031, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13002839652640, processDefineVersion=23, appIds=null, processInstanceId=49, scheduleTime=0, globalParams=[{"prop":"output_sum","direct":"OUT","type":"VARCHAR","value":""},{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":""}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[{"prop":"task_completed","direct":"OUT","type":"VARCHAR","value":"\"Task A\""},{"prop":"output_sum","direct":"OUT","type":"INTEGER","value":""}],"rawScript":"#!/bin/bash\n\necho \"Task A was completed\"\n\necho \"#{setValue(output_sum=${sum})}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='Task A'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, sum=Property{prop='sum', direct=IN, type=INTEGER, value='2'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='208'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13002733318688'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321213747'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='49'}, output_sum=Property{prop='output_sum', direct=IN, type=VARCHAR, value=''}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, task_completed=Property{prop='task_completed', direct=IN, type=VARCHAR, value=''}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='number_sum_task_orchestrator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13002839652640'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.045 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: Task A to wait queue success
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.046 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.051 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.051 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.051 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.052 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711028267052
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.052 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 49_208
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.060 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 208,
  "taskName" : "Task A",
  "firstSubmitTime" : 1711028267031,
  "startTime" : 1711028267052,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13002839652640/23/49/208.log",
  "processId" : 0,
  "processDefineCode" : 13002839652640,
  "processDefineVersion" : 23,
  "processInstanceId" : 49,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[{\"prop\":\"task_completed\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\\\"Task A\\\"\"},{\"prop\":\"output_sum\",\"direct\":\"OUT\",\"type\":\"INTEGER\",\"value\":\"\"}],\"rawScript\":\"#!/bin/bash\\n\\necho \\\"Task A was completed\\\"\\n\\necho \\\"#{setValue(output_sum=${sum})}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "Task A"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "sum" : {
      "prop" : "sum",
      "direct" : "IN",
      "type" : "INTEGER",
      "value" : "2"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "208"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002733318688"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321213747"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "49"
    },
    "output_sum" : {
      "prop" : "output_sum",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "task_completed" : {
      "prop" : "task_completed",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : ""
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "number_sum_task_orchestrator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13002839652640"
    }
  },
  "taskAppId" : "49_208",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"sum\",\"direct\":\"IN\",\"type\":\"INTEGER\",\"value\":\"2\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.061 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.061 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.061 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.078 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.080 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.080 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/49/208 check successfully
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.081 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.081 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.081 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.082 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.082 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "task_completed",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : "\"Task A\""
  }, {
    "prop" : "output_sum",
    "direct" : "OUT",
    "type" : "INTEGER",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\necho \"Task A was completed\"\n\necho \"#{setValue(output_sum=${sum})}\"",
  "resourceList" : [ ]
}
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.082 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.082 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"sum","direct":"IN","type":"INTEGER","value":"2"}] successfully
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.082 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.083 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.088 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.088 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.100 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.100 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

echo "Task A was completed"

echo "#{setValue(output_sum=2)}"
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.101 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.101 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/49/208/49_208.sh
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:47.106 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1842
[WI-0][TI-208] - [INFO] 2024-03-21 21:37:47.901 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=208, success=true)
[WI-0][TI-208] - [INFO] 2024-03-21 21:37:47.911 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=208)
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:48.108 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	Task A was completed
	#{setValue(output_sum=2)}
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:48.118 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/49/208, processId:1842 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-49][TI-208] - [WARN] 2024-03-21 21:37:48.119 +0800 o.a.d.p.t.a.p.AbstractParameters:[152] - Cannot find the output parameter task_completed in the task output parameters
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:48.119 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:48.120 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:48.120 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:48.121 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:48.128 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:48.129 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:48.129 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/49/208
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:48.130 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13002839652640_23/49/208
[WI-49][TI-208] - [INFO] 2024-03-21 21:37:48.133 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-208] - [INFO] 2024-03-21 21:37:48.903 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=208, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:54.016 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=209, taskName=show final state, firstSubmitTime=1711028273997, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13001314456096, processDefineVersion=23, appIds=null, processInstanceId=48, scheduleTime=0, globalParams=null, executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[],"rawScript":"echo \"${num1}\"\necho \"${num2}\"\necho \"${task_completed}\"\necho \"${sum}\"","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='show final state'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='209'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13001393547168'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321213754'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='48'}, num1=Property{prop='num1', direct=IN, type=INTEGER, value='0'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='random_numbers_generator'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13001314456096'}, num2=Property{prop='num2', direct=IN, type=INTEGER, value='0'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"num1","direct":"IN","type":"INTEGER","value":"0"},{"prop":"num2","direct":"IN","type":"INTEGER","value":"0"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.018 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: show final state to wait queue success
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.018 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.037 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.037 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.037 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.038 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711028274038
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.038 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 48_209
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.039 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 209,
  "taskName" : "show final state",
  "firstSubmitTime" : 1711028273997,
  "startTime" : 1711028274038,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13001314456096/23/48/209.log",
  "processId" : 0,
  "processDefineCode" : 13001314456096,
  "processDefineVersion" : 23,
  "processInstanceId" : 48,
  "scheduleTime" : 0,
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[],\"rawScript\":\"echo \\\"${num1}\\\"\\necho \\\"${num2}\\\"\\necho \\\"${task_completed}\\\"\\necho \\\"${sum}\\\"\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "show final state"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "209"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001393547168"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321213754"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "48"
    },
    "num1" : {
      "prop" : "num1",
      "direct" : "IN",
      "type" : "INTEGER",
      "value" : "0"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "random_numbers_generator"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001314456096"
    },
    "num2" : {
      "prop" : "num2",
      "direct" : "IN",
      "type" : "INTEGER",
      "value" : "0"
    }
  },
  "taskAppId" : "48_209",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"num1\",\"direct\":\"IN\",\"type\":\"INTEGER\",\"value\":\"0\"},{\"prop\":\"num2\",\"direct\":\"IN\",\"type\":\"INTEGER\",\"value\":\"0\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.042 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.044 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.045 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.051 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.058 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.059 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/48/209 check successfully
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.060 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.061 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.062 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.063 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.064 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ ],
  "varPool" : null,
  "rawScript" : "echo \"${num1}\"\necho \"${num2}\"\necho \"${task_completed}\"\necho \"${sum}\"",
  "resourceList" : [ ]
}
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.065 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.065 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"num1","direct":"IN","type":"INTEGER","value":"0"},{"prop":"num2","direct":"IN","type":"INTEGER","value":"0"}] successfully
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.066 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.067 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.067 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.068 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.069 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.070 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
echo "0"
echo "0"
echo "${task_completed}"
echo "${sum}"
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.070 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.071 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/48/209/48_209.sh
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:54.092 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1852
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:54.093 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
[WI-0][TI-209] - [INFO] 2024-03-21 21:37:54.900 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=209, success=true)
[WI-0][TI-209] - [INFO] 2024-03-21 21:37:54.914 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=209)
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:55.099 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	0
	0
	
	
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:55.101 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/48/209, processId:1852 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:55.102 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:55.102 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:55.102 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:55.103 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:55.105 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:55.105 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:55.105 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/48/209
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:55.106 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13001314456096_23/48/209
[WI-48][TI-209] - [INFO] 2024-03-21 21:37:55.107 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-209] - [INFO] 2024-03-21 21:37:55.901 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=209, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:56.190 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=211, taskName=hello, firstSubmitTime=1711028276181, startTime=0, taskType=SHELL, workflowInstanceHost=172.20.0.6:5678, host=172.20.0.5:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13003655208096, processDefineVersion=1, appIds=null, processInstanceId=50, scheduleTime=0, globalParams=[], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13001194483488, taskParams={"localParams":[],"rawScript":"#!/bin/bash\n\necho \"Hello, world!\"\n","resourceList":[]}, environmentConfig=null, definedParams=null, prepareParamsMap={system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='hello'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13001194483488'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='50'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240321'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240320'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='211'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='helo'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13003648543392'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13003655208096'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240321213756'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.200 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: hello to wait queue success
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.200 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.210 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.210 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.210 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.210 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1711028276210
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.210 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 50_211
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.211 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 211,
  "taskName" : "hello",
  "firstSubmitTime" : 1711028276181,
  "startTime" : 1711028276210,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.20.0.6:5678",
  "host" : "172.20.0.5:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240321/13003655208096/1/50/211.log",
  "processId" : 0,
  "processDefineCode" : 13003655208096,
  "processDefineVersion" : 1,
  "processInstanceId" : 50,
  "scheduleTime" : 0,
  "globalParams" : "[]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13001194483488,
  "taskParams" : "{\"localParams\":[],\"rawScript\":\"#!/bin/bash\\n\\necho \\\"Hello, world!\\\"\\n\",\"resourceList\":[]}",
  "prepareParamsMap" : {
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "hello"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13001194483488"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "50"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240320"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "211"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "helo"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13003648543392"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13003655208096"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240321213756"
    }
  },
  "taskAppId" : "50_211",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.212 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.212 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.212 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.220 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.20.0.5:1234
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.221 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.221 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13001194483488/13003655208096_1/50/211 check successfully
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.222 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.222 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.222 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.222 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.223 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ ],
  "varPool" : null,
  "rawScript" : "#!/bin/bash\n\necho \"Hello, world!\"\n",
  "resourceList" : [ ]
}
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.223 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.224 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [] successfully
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.225 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.225 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.225 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.226 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.231 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.234 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
#!/bin/bash

echo "Hello, world!"

[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.234 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.234 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13001194483488/13003655208096_1/50/211/50_211.sh
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:56.252 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 1862
[WI-0][TI-211] - [INFO] 2024-03-21 21:37:56.924 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=211, success=true)
[WI-0][TI-211] - [INFO] 2024-03-21 21:37:56.933 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=211)
[WI-0][TI-0] - [INFO] 2024-03-21 21:37:57.253 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	Hello, world!
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:57.262 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13001194483488/13003655208096_1/50/211, processId:1862 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:57.268 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:57.268 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:57.268 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:57.269 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:57.273 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.20.0.5:1234
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:57.274 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:57.274 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13003655208096_1/50/211
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:57.274 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13001194483488/13003655208096_1/50/211
[WI-50][TI-211] - [INFO] 2024-03-21 21:37:57.275 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-211] - [INFO] 2024-03-21 21:37:57.903 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=211, success=true)
[WI-0][TI-0] - [INFO] 2024-03-21 21:38:39.336 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8404184773407077 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:38:42.361 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8048128342245989 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:38:55.502 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.787878787878788 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:38:57.542 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8243243243243243 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:38:58.590 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8624338624338626 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:38:59.596 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8360957217605416 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:39:00.600 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7784090909090908 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:39:01.602 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7331777179933534 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:39:05.627 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8498583569405099 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:39:09.693 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8986666666666666 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:39:14.754 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7039106145251397 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:53:07.721 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8373983739837397 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:53:08.747 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7440633245382586 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:58:41.481 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7546880758474668 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:58:42.531 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7441994697808652 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:58:43.535 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7282608695652173 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:59:18.684 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7938718662952646 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:59:22.709 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7295081967213115 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:59:25.804 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7637795275590551 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-03-21 21:59:51.957 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7146739130434782 is over then the MaxCpuUsagePercentageThresholds 0.7
