[WI-0][TI-0] - [INFO] 2024-05-06 03:10:27.211 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7886904761904762 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:14:06.086 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7515527950310559 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:14:07.098 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7758620689655172 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:15:17.815 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8006230529595015 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:15:32.890 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.872093023255814 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:16:17.109 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7248520710059172 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:19:38.167 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7311475409836066 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:19:43.218 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7366863905325444 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:20:04.370 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7210031347962382 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:21:00.602 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7469879518072289 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:21:01.625 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7673716012084593 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:21:02.629 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7083333333333333 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:21:03.631 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7551622418879056 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:22:26.946 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7142857142857143 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:22:29.045 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7366863905325444 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:22:32.082 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7116564417177913 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:23:17.258 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7337461300309598 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:23:22.346 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7424749163879598 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:29.419 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8283132530120483 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:42.388 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=3805, taskName=consume filtered data, firstSubmitTime=1714937682377, startTime=0, taskType=SHELL, workflowInstanceHost=172.18.0.11:5678, host=172.18.1.1:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13426477386080, processDefineVersion=63, appIds=null, processInstanceId=1017, scheduleTime=0, globalParams=[{"prop":"input_topic","direct":"IN","type":"VARCHAR","value":"gnews_filtered"}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13010050770016, taskParams={"localParams":[{"prop":"filtered_data_message","direct":"OUT","type":"VARCHAR","value":""},{"prop":"is_message_empty","direct":"OUT","type":"VARCHAR","value":""}],"rawScript":"filtered_data_message = $(${KAFKA_HOME}/bin/kafka-console-consumer.sh \\\n    --bootstrap-server kafka:9092 \\\n    --topic ${input_topic} \\\n    --max-messages 1 \\\n    --from-beginning \\\n    --group filtered_data_consumer)\n\n# check if the message is empty. If message is empty, then set is_message_empty to 1 \nif [ -z \"$filtered_data_message\" ]; then\n    filtered_data_message=null\n    is_message_empty=1\nelse\n    is_message_empty=0\nfi\n\necho \"#{setValue(filtered_data_message=${filtered_data_message})}\"\necho \"#{setValue(is_message_empty=${is_message_empty})}\"","resourceList":[]}, environmentConfig=export JAVA_HOME=/opt/java/openjdk
export KAFKA_HOME=/opt/kafka_2.13-3.7.0, definedParams=null, prepareParamsMap={GNEWS_HOME=Property{prop='GNEWS_HOME', direct=IN, type=VARCHAR, value='/local_storage/google_news'}, system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='consume filtered data'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, REDDIT_HOME=Property{prop='REDDIT_HOME', direct=IN, type=VARCHAR, value='/local_storage/reddit'}, input_topic=Property{prop='input_topic', direct=IN, type=VARCHAR, value='gnews_filtered'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240506'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='3805'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13433255983872'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240506033442'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13010050770016'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='1017'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240505'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='es_filtered_data_persistence_subprocess'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13426477386080'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.394 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: consume filtered data to wait queue success
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.395 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.404 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.404 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.405 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.405 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1714937682405
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.405 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 1017_3805
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.406 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 3805,
  "taskName" : "consume filtered data",
  "firstSubmitTime" : 1714937682377,
  "startTime" : 1714937682405,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.18.0.11:5678",
  "host" : "172.18.1.1:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240506/13426477386080/63/1017/3805.log",
  "processId" : 0,
  "processDefineCode" : 13426477386080,
  "processDefineVersion" : 63,
  "processInstanceId" : 1017,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"input_topic\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"gnews_filtered\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13010050770016,
  "taskParams" : "{\"localParams\":[{\"prop\":\"filtered_data_message\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"is_message_empty\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}],\"rawScript\":\"filtered_data_message = $(${KAFKA_HOME}/bin/kafka-console-consumer.sh \\\\\\n    --bootstrap-server kafka:9092 \\\\\\n    --topic ${input_topic} \\\\\\n    --max-messages 1 \\\\\\n    --from-beginning \\\\\\n    --group filtered_data_consumer)\\n\\n# check if the message is empty. If message is empty, then set is_message_empty to 1 \\nif [ -z \\\"$filtered_data_message\\\" ]; then\\n    filtered_data_message=null\\n    is_message_empty=1\\nelse\\n    is_message_empty=0\\nfi\\n\\necho \\\"#{setValue(filtered_data_message=${filtered_data_message})}\\\"\\necho \\\"#{setValue(is_message_empty=${is_message_empty})}\\\"\",\"resourceList\":[]}",
  "environmentConfig" : "export JAVA_HOME=/opt/java/openjdk\nexport KAFKA_HOME=/opt/kafka_2.13-3.7.0",
  "prepareParamsMap" : {
    "GNEWS_HOME" : {
      "prop" : "GNEWS_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/google_news"
    },
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "consume filtered data"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "REDDIT_HOME" : {
      "prop" : "REDDIT_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/reddit"
    },
    "input_topic" : {
      "prop" : "input_topic",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "gnews_filtered"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "3805"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13433255983872"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506033442"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13010050770016"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "1017"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240505"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "es_filtered_data_persistence_subprocess"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13426477386080"
    }
  },
  "taskAppId" : "1017_3805",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.408 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.408 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.408 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.413 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.18.1.1:1234
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.413 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.417 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_63/1017/3805 check successfully
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.417 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.418 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.419 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.419 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.419 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "filtered_data_message",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  }, {
    "prop" : "is_message_empty",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "filtered_data_message = $(${KAFKA_HOME}/bin/kafka-console-consumer.sh \\\n    --bootstrap-server kafka:9092 \\\n    --topic ${input_topic} \\\n    --max-messages 1 \\\n    --from-beginning \\\n    --group filtered_data_consumer)\n\n# check if the message is empty. If message is empty, then set is_message_empty to 1 \nif [ -z \"$filtered_data_message\" ]; then\n    filtered_data_message=null\n    is_message_empty=1\nelse\n    is_message_empty=0\nfi\n\necho \"#{setValue(filtered_data_message=${filtered_data_message})}\"\necho \"#{setValue(is_message_empty=${is_message_empty})}\"",
  "resourceList" : [ ]
}
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.420 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.420 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.420 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.420 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.420 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.422 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.423 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.423 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
export JAVA_HOME=/opt/java/openjdk
export KAFKA_HOME=/opt/kafka_2.13-3.7.0
filtered_data_message = $(${KAFKA_HOME}/bin/kafka-console-consumer.sh \
    --bootstrap-server kafka:9092 \
    --topic gnews_filtered \
    --max-messages 1 \
    --from-beginning \
    --group filtered_data_consumer)

# check if the message is empty. If message is empty, then set is_message_empty to 1 
if [ -z "$filtered_data_message" ]; then
    filtered_data_message=null
    is_message_empty=1
else
    is_message_empty=0
fi

echo "#{setValue(filtered_data_message=${filtered_data_message})}"
echo "#{setValue(is_message_empty=${is_message_empty})}"
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.423 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.424 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_63/1017/3805/1017_3805.sh
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:34:42.432 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 4118
[WI-0][TI-3805] - [INFO] 2024-05-06 03:34:43.175 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=3805, success=true)
[WI-0][TI-3805] - [INFO] 2024-05-06 03:34:43.183 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=3805)
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:43.453 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:43.505 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8068965517241379 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:44.553 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8950617283950617 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:46.574 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8208955223880596 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:47.598 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.848297213622291 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:48.604 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8323353293413174 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:49.608 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9347826086956522 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:50.619 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9516129032258065 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:51.621 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9473684210526315 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:52.622 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9506172839506173 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:53.624 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8902077151335313 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:54.626 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9558823529411764 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:55.633 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9393939393939394 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:56.634 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9158878504672896 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:57.666 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9090909090909092 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:58.669 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9147058823529411 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:34:59.670 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9650793650793651 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:35:00.671 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9322033898305084 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:35:01.674 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9573170731707317 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:35:02.690 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8189415041782729 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:35:03.705 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8342541436464088 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:36:24.280 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	Processed a total of 1 messages
[WI-0][TI-0] - [INFO] 2024-05-06 03:36:24.291 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8313253012048192 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:36:25.283 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	/tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_63/1017/3805/1017_3805.sh: line 6: filtered_data_message: command not found
	#{setValue(filtered_data_message=null)}
	#{setValue(is_message_empty=1)}
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:36:25.284 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_63/1017/3805, processId:4118 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:36:25.285 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:36:25.286 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:36:25.286 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:36:25.287 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:36:25.296 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.18.1.1:1234
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:36:25.300 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:36:25.300 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_63/1017/3805
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:36:25.305 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_63/1017/3805
[WI-1017][TI-3805] - [INFO] 2024-05-06 03:36:25.305 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-3805] - [INFO] 2024-05-06 03:36:26.208 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=3805, success=true)
[WI-0][TI-0] - [INFO] 2024-05-06 03:36:27.388 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7346938775510203 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:36:28.287 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=3807, taskName=end workflow, firstSubmitTime=1714937788277, startTime=0, taskType=SHELL, workflowInstanceHost=172.18.0.11:5678, host=172.18.1.1:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13426477386080, processDefineVersion=63, appIds=null, processInstanceId=1017, scheduleTime=0, globalParams=[{"prop":"input_topic","direct":"IN","type":"VARCHAR","value":"gnews_filtered"}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13010050770016, taskParams={"localParams":[],"rawScript":"echo \"End Workflow\"","resourceList":[]}, environmentConfig=export PYTHON_LAUNCHER=/bin/python3.11, definedParams=null, prepareParamsMap={GNEWS_HOME=Property{prop='GNEWS_HOME', direct=IN, type=VARCHAR, value='/local_storage/google_news'}, system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='end workflow'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, REDDIT_HOME=Property{prop='REDDIT_HOME', direct=IN, type=VARCHAR, value='/local_storage/reddit'}, input_topic=Property{prop='input_topic', direct=IN, type=VARCHAR, value='gnews_filtered'}, is_message_empty=Property{prop='is_message_empty', direct=IN, type=VARCHAR, value='1'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240506'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='3807'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13504600516704'}, filtered_data_message=Property{prop='filtered_data_message', direct=IN, type=VARCHAR, value='null'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240506033628'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13010050770016'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='1017'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240505'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='es_filtered_data_persistence_subprocess'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13426477386080'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"is_message_empty","direct":"IN","type":"VARCHAR","value":"1"},{"prop":"filtered_data_message","direct":"IN","type":"VARCHAR","value":"null"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.290 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: end workflow to wait queue success
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.290 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.292 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.292 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.292 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.293 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1714937788293
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.293 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 1017_3807
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.293 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 3807,
  "taskName" : "end workflow",
  "firstSubmitTime" : 1714937788277,
  "startTime" : 1714937788293,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.18.0.11:5678",
  "host" : "172.18.1.1:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240506/13426477386080/63/1017/3807.log",
  "processId" : 0,
  "processDefineCode" : 13426477386080,
  "processDefineVersion" : 63,
  "processInstanceId" : 1017,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"input_topic\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"gnews_filtered\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13010050770016,
  "taskParams" : "{\"localParams\":[],\"rawScript\":\"echo \\\"End Workflow\\\"\",\"resourceList\":[]}",
  "environmentConfig" : "export PYTHON_LAUNCHER=/bin/python3.11",
  "prepareParamsMap" : {
    "GNEWS_HOME" : {
      "prop" : "GNEWS_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/google_news"
    },
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "end workflow"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "REDDIT_HOME" : {
      "prop" : "REDDIT_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/reddit"
    },
    "input_topic" : {
      "prop" : "input_topic",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "gnews_filtered"
    },
    "is_message_empty" : {
      "prop" : "is_message_empty",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "1"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "3807"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13504600516704"
    },
    "filtered_data_message" : {
      "prop" : "filtered_data_message",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "null"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506033628"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13010050770016"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "1017"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240505"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "es_filtered_data_persistence_subprocess"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13426477386080"
    }
  },
  "taskAppId" : "1017_3807",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"is_message_empty\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"1\"},{\"prop\":\"filtered_data_message\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"null\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.294 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.294 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.294 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.310 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.18.1.1:1234
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.311 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.312 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_63/1017/3807 check successfully
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.313 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.314 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.316 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.316 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.317 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ ],
  "varPool" : null,
  "rawScript" : "echo \"End Workflow\"",
  "resourceList" : [ ]
}
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.317 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.317 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"is_message_empty","direct":"IN","type":"VARCHAR","value":"1"},{"prop":"filtered_data_message","direct":"IN","type":"VARCHAR","value":"null"}] successfully
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.317 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.317 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.317 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.318 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.319 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.319 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
export PYTHON_LAUNCHER=/bin/python3.11
echo "End Workflow"
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.319 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.320 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_63/1017/3807/1017_3807.sh
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:28.335 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 4543
[WI-0][TI-3807] - [INFO] 2024-05-06 03:36:29.233 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=3807, success=true)
[WI-0][TI-3807] - [INFO] 2024-05-06 03:36:29.261 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=3807)
[WI-0][TI-0] - [INFO] 2024-05-06 03:36:29.338 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	End Workflow
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:29.361 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_63/1017/3807, processId:4543 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:29.362 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:29.362 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:29.362 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:29.363 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:29.370 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.18.1.1:1234
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:29.370 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:29.371 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_63/1017/3807
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:29.375 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_63/1017/3807
[WI-1017][TI-3807] - [INFO] 2024-05-06 03:36:29.376 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-0] - [INFO] 2024-05-06 03:36:29.461 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.807471264367816 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-3807] - [INFO] 2024-05-06 03:36:30.216 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=3807, success=true)
[WI-0][TI-0] - [INFO] 2024-05-06 03:36:30.474 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7824773413897281 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:45:07.598 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.9093311510067685 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:45:59.851 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7204301075268817 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:46:10.779 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=3808, taskName=consume filtered data, firstSubmitTime=1714938370770, startTime=0, taskType=SHELL, workflowInstanceHost=172.18.0.11:5678, host=172.18.1.1:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13426477386080, processDefineVersion=64, appIds=null, processInstanceId=1018, scheduleTime=0, globalParams=[{"prop":"input_topic","direct":"IN","type":"VARCHAR","value":"gnews_filtered"}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13010050770016, taskParams={"localParams":[{"prop":"filtered_data_message","direct":"OUT","type":"VARCHAR","value":""},{"prop":"is_message_empty","direct":"OUT","type":"VARCHAR","value":""}],"rawScript":"filtered_data_message = $(${KAFKA_HOME}/bin/kafka-console-consumer.sh \\\n    --bootstrap-server kafka:9092 \\\n    --topic ${input_topic} \\\n    --max-messages 1 \\\n    --from-beginning \\\n    --group filtered_data_consumer)\n    \necho ${filtered_data_message}\n\n# check if the message is empty. If message is empty, then set is_message_empty to 1 \nif [ -z \"${filtered_data_message}\" ]; then\n    filtered_data_message=null\n    is_message_empty=1\nelse\n    is_message_empty=0\nfi\n\necho \"#{setValue(filtered_data_message=${filtered_data_message})}\"\necho \"#{setValue(is_message_empty=${is_message_empty})}\"","resourceList":[]}, environmentConfig=export JAVA_HOME=/opt/java/openjdk
export KAFKA_HOME=/opt/kafka_2.13-3.7.0, definedParams=null, prepareParamsMap={GNEWS_HOME=Property{prop='GNEWS_HOME', direct=IN, type=VARCHAR, value='/local_storage/google_news'}, system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='consume filtered data'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, REDDIT_HOME=Property{prop='REDDIT_HOME', direct=IN, type=VARCHAR, value='/local_storage/reddit'}, input_topic=Property{prop='input_topic', direct=IN, type=VARCHAR, value='gnews_filtered'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240506'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='3808'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13433255983872'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240506034610'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13010050770016'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='1018'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240505'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='es_filtered_data_persistence_subprocess'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13426477386080'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.783 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: consume filtered data to wait queue success
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.783 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.788 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.792 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.792 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.792 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1714938370792
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.792 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 1018_3808
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.792 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 3808,
  "taskName" : "consume filtered data",
  "firstSubmitTime" : 1714938370770,
  "startTime" : 1714938370792,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.18.0.11:5678",
  "host" : "172.18.1.1:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240506/13426477386080/64/1018/3808.log",
  "processId" : 0,
  "processDefineCode" : 13426477386080,
  "processDefineVersion" : 64,
  "processInstanceId" : 1018,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"input_topic\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"gnews_filtered\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13010050770016,
  "taskParams" : "{\"localParams\":[{\"prop\":\"filtered_data_message\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"is_message_empty\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}],\"rawScript\":\"filtered_data_message = $(${KAFKA_HOME}/bin/kafka-console-consumer.sh \\\\\\n    --bootstrap-server kafka:9092 \\\\\\n    --topic ${input_topic} \\\\\\n    --max-messages 1 \\\\\\n    --from-beginning \\\\\\n    --group filtered_data_consumer)\\n    \\necho ${filtered_data_message}\\n\\n# check if the message is empty. If message is empty, then set is_message_empty to 1 \\nif [ -z \\\"${filtered_data_message}\\\" ]; then\\n    filtered_data_message=null\\n    is_message_empty=1\\nelse\\n    is_message_empty=0\\nfi\\n\\necho \\\"#{setValue(filtered_data_message=${filtered_data_message})}\\\"\\necho \\\"#{setValue(is_message_empty=${is_message_empty})}\\\"\",\"resourceList\":[]}",
  "environmentConfig" : "export JAVA_HOME=/opt/java/openjdk\nexport KAFKA_HOME=/opt/kafka_2.13-3.7.0",
  "prepareParamsMap" : {
    "GNEWS_HOME" : {
      "prop" : "GNEWS_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/google_news"
    },
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "consume filtered data"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "REDDIT_HOME" : {
      "prop" : "REDDIT_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/reddit"
    },
    "input_topic" : {
      "prop" : "input_topic",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "gnews_filtered"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "3808"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13433255983872"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506034610"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13010050770016"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "1018"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240505"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "es_filtered_data_persistence_subprocess"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13426477386080"
    }
  },
  "taskAppId" : "1018_3808",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.793 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.793 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.793 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.804 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.18.1.1:1234
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.805 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.805 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_64/1018/3808 check successfully
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.805 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.807 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.807 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.807 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.807 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "filtered_data_message",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  }, {
    "prop" : "is_message_empty",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "filtered_data_message = $(${KAFKA_HOME}/bin/kafka-console-consumer.sh \\\n    --bootstrap-server kafka:9092 \\\n    --topic ${input_topic} \\\n    --max-messages 1 \\\n    --from-beginning \\\n    --group filtered_data_consumer)\n    \necho ${filtered_data_message}\n\n# check if the message is empty. If message is empty, then set is_message_empty to 1 \nif [ -z \"${filtered_data_message}\" ]; then\n    filtered_data_message=null\n    is_message_empty=1\nelse\n    is_message_empty=0\nfi\n\necho \"#{setValue(filtered_data_message=${filtered_data_message})}\"\necho \"#{setValue(is_message_empty=${is_message_empty})}\"",
  "resourceList" : [ ]
}
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.808 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.808 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.808 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.808 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.808 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.810 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.811 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.812 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
export JAVA_HOME=/opt/java/openjdk
export KAFKA_HOME=/opt/kafka_2.13-3.7.0
filtered_data_message = $(${KAFKA_HOME}/bin/kafka-console-consumer.sh \
    --bootstrap-server kafka:9092 \
    --topic gnews_filtered \
    --max-messages 1 \
    --from-beginning \
    --group filtered_data_consumer)
    
echo ${filtered_data_message}

# check if the message is empty. If message is empty, then set is_message_empty to 1 
if [ -z "${filtered_data_message}" ]; then
    filtered_data_message=null
    is_message_empty=1
else
    is_message_empty=0
fi

echo "#{setValue(filtered_data_message=${filtered_data_message})}"
echo "#{setValue(is_message_empty=${is_message_empty})}"
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.812 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.812 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_64/1018/3808/1018_3808.sh
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:10.817 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 4680
[WI-0][TI-3808] - [INFO] 2024-05-06 03:46:11.645 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=3808, success=true)
[WI-0][TI-3808] - [INFO] 2024-05-06 03:46:11.654 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=3808)
[WI-0][TI-0] - [INFO] 2024-05-06 03:46:11.820 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
[WI-0][TI-0] - [INFO] 2024-05-06 03:46:18.833 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	Processed a total of 1 messages
	/tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_64/1018/3808/1018_3808.sh: line 6: filtered_data_message: command not found
	
	#{setValue(filtered_data_message=null)}
	#{setValue(is_message_empty=1)}
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:18.833 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_64/1018/3808, processId:4680 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:18.835 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:18.835 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:18.836 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:18.836 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:18.839 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.18.1.1:1234
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:18.840 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:18.840 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_64/1018/3808
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:18.841 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_64/1018/3808
[WI-1018][TI-3808] - [INFO] 2024-05-06 03:46:18.842 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-3808] - [INFO] 2024-05-06 03:46:19.656 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=3808, success=true)
[WI-0][TI-0] - [INFO] 2024-05-06 03:46:20.881 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=3810, taskName=end workflow, firstSubmitTime=1714938380758, startTime=0, taskType=SHELL, workflowInstanceHost=172.18.0.11:5678, host=172.18.1.1:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13426477386080, processDefineVersion=64, appIds=null, processInstanceId=1018, scheduleTime=0, globalParams=[{"prop":"input_topic","direct":"IN","type":"VARCHAR","value":"gnews_filtered"}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13010050770016, taskParams={"localParams":[],"rawScript":"echo \"End Workflow\"","resourceList":[]}, environmentConfig=export PYTHON_LAUNCHER=/bin/python3.11, definedParams=null, prepareParamsMap={GNEWS_HOME=Property{prop='GNEWS_HOME', direct=IN, type=VARCHAR, value='/local_storage/google_news'}, system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='end workflow'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, REDDIT_HOME=Property{prop='REDDIT_HOME', direct=IN, type=VARCHAR, value='/local_storage/reddit'}, input_topic=Property{prop='input_topic', direct=IN, type=VARCHAR, value='gnews_filtered'}, is_message_empty=Property{prop='is_message_empty', direct=IN, type=VARCHAR, value='1'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240506'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='3810'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13504600516704'}, filtered_data_message=Property{prop='filtered_data_message', direct=IN, type=VARCHAR, value='null'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240506034620'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13010050770016'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='1018'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240505'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='es_filtered_data_persistence_subprocess'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13426477386080'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"is_message_empty","direct":"IN","type":"VARCHAR","value":"1"},{"prop":"filtered_data_message","direct":"IN","type":"VARCHAR","value":"null"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.890 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: end workflow to wait queue success
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.908 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.919 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.922 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.923 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.924 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1714938380924
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.925 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 1018_3810
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.927 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 3810,
  "taskName" : "end workflow",
  "firstSubmitTime" : 1714938380758,
  "startTime" : 1714938380924,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.18.0.11:5678",
  "host" : "172.18.1.1:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240506/13426477386080/64/1018/3810.log",
  "processId" : 0,
  "processDefineCode" : 13426477386080,
  "processDefineVersion" : 64,
  "processInstanceId" : 1018,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"input_topic\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"gnews_filtered\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13010050770016,
  "taskParams" : "{\"localParams\":[],\"rawScript\":\"echo \\\"End Workflow\\\"\",\"resourceList\":[]}",
  "environmentConfig" : "export PYTHON_LAUNCHER=/bin/python3.11",
  "prepareParamsMap" : {
    "GNEWS_HOME" : {
      "prop" : "GNEWS_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/google_news"
    },
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "end workflow"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "REDDIT_HOME" : {
      "prop" : "REDDIT_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/reddit"
    },
    "input_topic" : {
      "prop" : "input_topic",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "gnews_filtered"
    },
    "is_message_empty" : {
      "prop" : "is_message_empty",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "1"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "3810"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13504600516704"
    },
    "filtered_data_message" : {
      "prop" : "filtered_data_message",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "null"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506034620"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13010050770016"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "1018"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240505"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "es_filtered_data_persistence_subprocess"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13426477386080"
    }
  },
  "taskAppId" : "1018_3810",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"is_message_empty\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"1\"},{\"prop\":\"filtered_data_message\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"null\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.929 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.929 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.929 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.934 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.18.1.1:1234
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.935 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.950 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_64/1018/3810 check successfully
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.950 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.950 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.951 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.951 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.952 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ ],
  "varPool" : null,
  "rawScript" : "echo \"End Workflow\"",
  "resourceList" : [ ]
}
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.954 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.957 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"is_message_empty","direct":"IN","type":"VARCHAR","value":"1"},{"prop":"filtered_data_message","direct":"IN","type":"VARCHAR","value":"null"}] successfully
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.957 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.958 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.959 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.962 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.962 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.962 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
export PYTHON_LAUNCHER=/bin/python3.11
echo "End Workflow"
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.962 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.963 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_64/1018/3810/1018_3810.sh
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:20.968 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 5092
[WI-0][TI-3810] - [INFO] 2024-05-06 03:46:21.661 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=3810, success=true)
[WI-0][TI-3810] - [INFO] 2024-05-06 03:46:21.670 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=3810)
[WI-0][TI-0] - [INFO] 2024-05-06 03:46:21.970 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	End Workflow
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:21.986 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_64/1018/3810, processId:5092 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:22.004 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:22.004 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:22.004 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:22.005 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:22.026 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.18.1.1:1234
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:22.028 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:22.029 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_64/1018/3810
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:22.030 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_64/1018/3810
[WI-1018][TI-3810] - [INFO] 2024-05-06 03:46:22.035 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-3810] - [INFO] 2024-05-06 03:46:22.655 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=3810, success=true)
[WI-0][TI-0] - [INFO] 2024-05-06 03:46:37.176 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7414772727272727 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:50:54.423 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.705223880597015 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:50:55.463 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7267441860465116 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:51:56.689 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7471264367816092 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:51:56.703 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=3811, taskName=consume filtered data, firstSubmitTime=1714938716645, startTime=0, taskType=SHELL, workflowInstanceHost=172.18.0.11:5678, host=172.18.1.1:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13426477386080, processDefineVersion=65, appIds=null, processInstanceId=1019, scheduleTime=0, globalParams=[{"prop":"input_topic","direct":"IN","type":"VARCHAR","value":"gnews_filtered"}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13010050770016, taskParams={"localParams":[{"prop":"filtered_data_message","direct":"OUT","type":"VARCHAR","value":""},{"prop":"is_message_empty","direct":"OUT","type":"VARCHAR","value":""}],"rawScript":"filtered_data_message = $(${KAFKA_HOME}/bin/kafka-console-consumer.sh --bootstrap-server kafka:9092 --topic ${input_topic} --max-messages 1 --from-beginning --group filtered_data_consumer)\n\n# check if the message is empty. If message is empty, then set is_message_empty to 1 \nif [ -z \"${filtered_data_message}\" ]; then\n    filtered_data_message=null\n    is_message_empty=1\nelse\n    is_message_empty=0\nfi\n\necho \"#{setValue(filtered_data_message=${filtered_data_message})}\"\necho \"#{setValue(is_message_empty=${is_message_empty})}\"","resourceList":[]}, environmentConfig=export JAVA_HOME=/opt/java/openjdk
export KAFKA_HOME=/opt/kafka_2.13-3.7.0, definedParams=null, prepareParamsMap={GNEWS_HOME=Property{prop='GNEWS_HOME', direct=IN, type=VARCHAR, value='/local_storage/google_news'}, system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='consume filtered data'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, REDDIT_HOME=Property{prop='REDDIT_HOME', direct=IN, type=VARCHAR, value='/local_storage/reddit'}, input_topic=Property{prop='input_topic', direct=IN, type=VARCHAR, value='gnews_filtered'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240506'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='3811'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13433255983872'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240506035156'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13010050770016'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='1019'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240505'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='es_filtered_data_persistence_subprocess'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13426477386080'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.704 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: consume filtered data to wait queue success
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.704 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.714 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.716 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.716 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.717 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1714938716717
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.717 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 1019_3811
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.717 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 3811,
  "taskName" : "consume filtered data",
  "firstSubmitTime" : 1714938716645,
  "startTime" : 1714938716717,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.18.0.11:5678",
  "host" : "172.18.1.1:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240506/13426477386080/65/1019/3811.log",
  "processId" : 0,
  "processDefineCode" : 13426477386080,
  "processDefineVersion" : 65,
  "processInstanceId" : 1019,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"input_topic\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"gnews_filtered\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13010050770016,
  "taskParams" : "{\"localParams\":[{\"prop\":\"filtered_data_message\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"is_message_empty\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}],\"rawScript\":\"filtered_data_message = $(${KAFKA_HOME}/bin/kafka-console-consumer.sh --bootstrap-server kafka:9092 --topic ${input_topic} --max-messages 1 --from-beginning --group filtered_data_consumer)\\n\\n# check if the message is empty. If message is empty, then set is_message_empty to 1 \\nif [ -z \\\"${filtered_data_message}\\\" ]; then\\n    filtered_data_message=null\\n    is_message_empty=1\\nelse\\n    is_message_empty=0\\nfi\\n\\necho \\\"#{setValue(filtered_data_message=${filtered_data_message})}\\\"\\necho \\\"#{setValue(is_message_empty=${is_message_empty})}\\\"\",\"resourceList\":[]}",
  "environmentConfig" : "export JAVA_HOME=/opt/java/openjdk\nexport KAFKA_HOME=/opt/kafka_2.13-3.7.0",
  "prepareParamsMap" : {
    "GNEWS_HOME" : {
      "prop" : "GNEWS_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/google_news"
    },
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "consume filtered data"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "REDDIT_HOME" : {
      "prop" : "REDDIT_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/reddit"
    },
    "input_topic" : {
      "prop" : "input_topic",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "gnews_filtered"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "3811"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13433255983872"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506035156"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13010050770016"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "1019"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240505"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "es_filtered_data_persistence_subprocess"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13426477386080"
    }
  },
  "taskAppId" : "1019_3811",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.720 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.720 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.720 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.728 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.18.1.1:1234
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.728 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.730 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_65/1019/3811 check successfully
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.730 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.730 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.731 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.731 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.732 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "filtered_data_message",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  }, {
    "prop" : "is_message_empty",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "filtered_data_message = $(${KAFKA_HOME}/bin/kafka-console-consumer.sh --bootstrap-server kafka:9092 --topic ${input_topic} --max-messages 1 --from-beginning --group filtered_data_consumer)\n\n# check if the message is empty. If message is empty, then set is_message_empty to 1 \nif [ -z \"${filtered_data_message}\" ]; then\n    filtered_data_message=null\n    is_message_empty=1\nelse\n    is_message_empty=0\nfi\n\necho \"#{setValue(filtered_data_message=${filtered_data_message})}\"\necho \"#{setValue(is_message_empty=${is_message_empty})}\"",
  "resourceList" : [ ]
}
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.733 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.733 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.733 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.733 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.733 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.734 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.735 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.736 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
export JAVA_HOME=/opt/java/openjdk
export KAFKA_HOME=/opt/kafka_2.13-3.7.0
filtered_data_message = $(${KAFKA_HOME}/bin/kafka-console-consumer.sh --bootstrap-server kafka:9092 --topic gnews_filtered --max-messages 1 --from-beginning --group filtered_data_consumer)

# check if the message is empty. If message is empty, then set is_message_empty to 1 
if [ -z "${filtered_data_message}" ]; then
    filtered_data_message=null
    is_message_empty=1
else
    is_message_empty=0
fi

echo "#{setValue(filtered_data_message=${filtered_data_message})}"
echo "#{setValue(is_message_empty=${is_message_empty})}"
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.736 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.736 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_65/1019/3811/1019_3811.sh
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:51:56.753 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 6359
[WI-0][TI-3811] - [INFO] 2024-05-06 03:51:57.558 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=3811, success=true)
[WI-0][TI-3811] - [INFO] 2024-05-06 03:51:57.566 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=3811)
[WI-0][TI-0] - [INFO] 2024-05-06 03:51:57.714 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8389830508474576 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:51:57.760 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
[WI-0][TI-0] - [INFO] 2024-05-06 03:51:58.716 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7072368421052632 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:51:59.721 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7047970479704797 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:52:12.780 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	Processed a total of 1 messages
[WI-0][TI-0] - [INFO] 2024-05-06 03:52:13.785 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	/tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_65/1019/3811/1019_3811.sh: line 6: filtered_data_message: command not found
	#{setValue(filtered_data_message=null)}
	#{setValue(is_message_empty=1)}
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:52:13.786 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_65/1019/3811, processId:6359 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:52:13.788 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:52:13.788 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:52:13.788 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:52:13.788 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:52:13.792 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.18.1.1:1234
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:52:13.792 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:52:13.792 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_65/1019/3811
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:52:13.793 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_65/1019/3811
[WI-1019][TI-3811] - [INFO] 2024-05-06 03:52:13.793 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-3811] - [INFO] 2024-05-06 03:52:14.568 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=3811, success=true)
[WI-0][TI-0] - [INFO] 2024-05-06 03:52:15.697 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=3813, taskName=end workflow, firstSubmitTime=1714938735665, startTime=0, taskType=SHELL, workflowInstanceHost=172.18.0.11:5678, host=172.18.1.1:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13426477386080, processDefineVersion=65, appIds=null, processInstanceId=1019, scheduleTime=0, globalParams=[{"prop":"input_topic","direct":"IN","type":"VARCHAR","value":"gnews_filtered"}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13010050770016, taskParams={"localParams":[],"rawScript":"echo \"End Workflow\"","resourceList":[]}, environmentConfig=export PYTHON_LAUNCHER=/bin/python3.11, definedParams=null, prepareParamsMap={GNEWS_HOME=Property{prop='GNEWS_HOME', direct=IN, type=VARCHAR, value='/local_storage/google_news'}, system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='end workflow'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, REDDIT_HOME=Property{prop='REDDIT_HOME', direct=IN, type=VARCHAR, value='/local_storage/reddit'}, input_topic=Property{prop='input_topic', direct=IN, type=VARCHAR, value='gnews_filtered'}, is_message_empty=Property{prop='is_message_empty', direct=IN, type=VARCHAR, value='1'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240506'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='3813'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13504600516704'}, filtered_data_message=Property{prop='filtered_data_message', direct=IN, type=VARCHAR, value='null'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240506035215'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13010050770016'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='1019'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240505'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='es_filtered_data_persistence_subprocess'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13426477386080'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"is_message_empty","direct":"IN","type":"VARCHAR","value":"1"},{"prop":"filtered_data_message","direct":"IN","type":"VARCHAR","value":"null"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.698 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: end workflow to wait queue success
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.699 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.700 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.701 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.702 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.702 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1714938735702
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.702 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 1019_3813
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.710 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 3813,
  "taskName" : "end workflow",
  "firstSubmitTime" : 1714938735665,
  "startTime" : 1714938735702,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.18.0.11:5678",
  "host" : "172.18.1.1:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240506/13426477386080/65/1019/3813.log",
  "processId" : 0,
  "processDefineCode" : 13426477386080,
  "processDefineVersion" : 65,
  "processInstanceId" : 1019,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"input_topic\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"gnews_filtered\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13010050770016,
  "taskParams" : "{\"localParams\":[],\"rawScript\":\"echo \\\"End Workflow\\\"\",\"resourceList\":[]}",
  "environmentConfig" : "export PYTHON_LAUNCHER=/bin/python3.11",
  "prepareParamsMap" : {
    "GNEWS_HOME" : {
      "prop" : "GNEWS_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/google_news"
    },
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "end workflow"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "REDDIT_HOME" : {
      "prop" : "REDDIT_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/reddit"
    },
    "input_topic" : {
      "prop" : "input_topic",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "gnews_filtered"
    },
    "is_message_empty" : {
      "prop" : "is_message_empty",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "1"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "3813"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13504600516704"
    },
    "filtered_data_message" : {
      "prop" : "filtered_data_message",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "null"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506035215"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13010050770016"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "1019"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240505"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "es_filtered_data_persistence_subprocess"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13426477386080"
    }
  },
  "taskAppId" : "1019_3813",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"is_message_empty\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"1\"},{\"prop\":\"filtered_data_message\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"null\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.711 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.711 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.711 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.718 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.18.1.1:1234
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.718 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.719 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_65/1019/3813 check successfully
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.722 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.722 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.722 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.722 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.726 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ ],
  "varPool" : null,
  "rawScript" : "echo \"End Workflow\"",
  "resourceList" : [ ]
}
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.726 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.727 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"is_message_empty","direct":"IN","type":"VARCHAR","value":"1"},{"prop":"filtered_data_message","direct":"IN","type":"VARCHAR","value":"null"}] successfully
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.727 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.727 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.727 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.727 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.727 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.727 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
export PYTHON_LAUNCHER=/bin/python3.11
echo "End Workflow"
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.727 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.727 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_65/1019/3813/1019_3813.sh
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:15.751 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 6765
[WI-0][TI-3813] - [INFO] 2024-05-06 03:52:16.585 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=3813, success=true)
[WI-0][TI-3813] - [INFO] 2024-05-06 03:52:16.594 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=3813)
[WI-0][TI-0] - [INFO] 2024-05-06 03:52:16.752 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
	End Workflow
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:16.756 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_65/1019/3813, processId:6765 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:16.758 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:16.758 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:16.761 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:16.761 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:16.774 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.18.1.1:1234
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:16.775 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:16.776 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_65/1019/3813
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:16.776 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_65/1019/3813
[WI-1019][TI-3813] - [INFO] 2024-05-06 03:52:16.776 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-3813] - [INFO] 2024-05-06 03:52:17.584 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=3813, success=true)
[WI-0][TI-0] - [INFO] 2024-05-06 03:52:19.797 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7008797653958945 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:52:29.913 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7134670487106017 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:53:18.509 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7339449541284404 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:53:24.622 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7017543859649122 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:53:30.698 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7523219814241486 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:53:31.715 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.849002849002849 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:53:32.718 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8138138138138138 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:54:27.952 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8288288288288288 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:54:40.139 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7034715200539264 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:55:03.291 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7055214723926381 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:55:04.647 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=3814, taskName=consume filtered data, firstSubmitTime=1714938904639, startTime=0, taskType=SHELL, workflowInstanceHost=172.18.0.11:5678, host=172.18.1.1:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13426477386080, processDefineVersion=66, appIds=null, processInstanceId=1020, scheduleTime=0, globalParams=[{"prop":"input_topic","direct":"IN","type":"VARCHAR","value":"gnews_filtered"}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13010050770016, taskParams={"localParams":[{"prop":"filtered_data_message","direct":"OUT","type":"VARCHAR","value":""},{"prop":"is_message_empty","direct":"OUT","type":"VARCHAR","value":""}],"rawScript":"filtered_data_message=$(${KAFKA_HOME}/bin/kafka-console-consumer.sh \\\n    --bootstrap-server kafka:9092 \\\n    --topic gnews_filtered \\\n    --max-messages 1 \\\n    --from-beginning \\\n    --group filtered_data_consumer)\n\n\n# check if the message is empty. If message is empty, then set is_message_empty to 1 \nif [ -z \"${filtered_data_message}\" ]; then\n    filtered_data_message=null\n    is_message_empty=1\nelse\n    is_message_empty=0\nfi\n\necho \"#{setValue(filtered_data_message=${filtered_data_message})}\"\necho \"#{setValue(is_message_empty=${is_message_empty})}\"","resourceList":[]}, environmentConfig=export JAVA_HOME=/opt/java/openjdk
export KAFKA_HOME=/opt/kafka_2.13-3.7.0, definedParams=null, prepareParamsMap={GNEWS_HOME=Property{prop='GNEWS_HOME', direct=IN, type=VARCHAR, value='/local_storage/google_news'}, system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='consume filtered data'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, REDDIT_HOME=Property{prop='REDDIT_HOME', direct=IN, type=VARCHAR, value='/local_storage/reddit'}, input_topic=Property{prop='input_topic', direct=IN, type=VARCHAR, value='gnews_filtered'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240506'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='3814'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13433255983872'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240506035504'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13010050770016'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='1020'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240505'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='es_filtered_data_persistence_subprocess'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13426477386080'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=null, dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.648 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: consume filtered data to wait queue success
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.649 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.667 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.667 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.667 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.667 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1714938904667
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.668 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 1020_3814
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.668 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 3814,
  "taskName" : "consume filtered data",
  "firstSubmitTime" : 1714938904639,
  "startTime" : 1714938904667,
  "taskType" : "SHELL",
  "workflowInstanceHost" : "172.18.0.11:5678",
  "host" : "172.18.1.1:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240506/13426477386080/66/1020/3814.log",
  "processId" : 0,
  "processDefineCode" : 13426477386080,
  "processDefineVersion" : 66,
  "processInstanceId" : 1020,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"input_topic\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"gnews_filtered\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13010050770016,
  "taskParams" : "{\"localParams\":[{\"prop\":\"filtered_data_message\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"is_message_empty\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"}],\"rawScript\":\"filtered_data_message=$(${KAFKA_HOME}/bin/kafka-console-consumer.sh \\\\\\n    --bootstrap-server kafka:9092 \\\\\\n    --topic gnews_filtered \\\\\\n    --max-messages 1 \\\\\\n    --from-beginning \\\\\\n    --group filtered_data_consumer)\\n\\n\\n# check if the message is empty. If message is empty, then set is_message_empty to 1 \\nif [ -z \\\"${filtered_data_message}\\\" ]; then\\n    filtered_data_message=null\\n    is_message_empty=1\\nelse\\n    is_message_empty=0\\nfi\\n\\necho \\\"#{setValue(filtered_data_message=${filtered_data_message})}\\\"\\necho \\\"#{setValue(is_message_empty=${is_message_empty})}\\\"\",\"resourceList\":[]}",
  "environmentConfig" : "export JAVA_HOME=/opt/java/openjdk\nexport KAFKA_HOME=/opt/kafka_2.13-3.7.0",
  "prepareParamsMap" : {
    "GNEWS_HOME" : {
      "prop" : "GNEWS_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/google_news"
    },
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "consume filtered data"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "REDDIT_HOME" : {
      "prop" : "REDDIT_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/reddit"
    },
    "input_topic" : {
      "prop" : "input_topic",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "gnews_filtered"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "3814"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13433255983872"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506035504"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13010050770016"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "1020"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240505"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "es_filtered_data_persistence_subprocess"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13426477386080"
    }
  },
  "taskAppId" : "1020_3814",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.669 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.669 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.669 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.672 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.18.1.1:1234
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.672 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.673 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3814 check successfully
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.673 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.shell.ShellTaskChannel successfully
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.673 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.673 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.673 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SHELL create successfully
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.674 +0800 o.a.d.p.t.s.ShellTask:[70] - Initialize shell task params {
  "localParams" : [ {
    "prop" : "filtered_data_message",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  }, {
    "prop" : "is_message_empty",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "filtered_data_message=$(${KAFKA_HOME}/bin/kafka-console-consumer.sh \\\n    --bootstrap-server kafka:9092 \\\n    --topic gnews_filtered \\\n    --max-messages 1 \\\n    --from-beginning \\\n    --group filtered_data_consumer)\n\n\n# check if the message is empty. If message is empty, then set is_message_empty to 1 \nif [ -z \"${filtered_data_message}\" ]; then\n    filtered_data_message=null\n    is_message_empty=1\nelse\n    is_message_empty=0\nfi\n\necho \"#{setValue(filtered_data_message=${filtered_data_message})}\"\necho \"#{setValue(is_message_empty=${is_message_empty})}\"",
  "resourceList" : [ ]
}
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.674 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.674 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: null successfully
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.674 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.674 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.674 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.674 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.675 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.675 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
export JAVA_HOME=/opt/java/openjdk
export KAFKA_HOME=/opt/kafka_2.13-3.7.0
filtered_data_message=$(${KAFKA_HOME}/bin/kafka-console-consumer.sh \
    --bootstrap-server kafka:9092 \
    --topic gnews_filtered \
    --max-messages 1 \
    --from-beginning \
    --group filtered_data_consumer)


# check if the message is empty. If message is empty, then set is_message_empty to 1 
if [ -z "${filtered_data_message}" ]; then
    filtered_data_message=null
    is_message_empty=1
else
    is_message_empty=0
fi

echo "#{setValue(filtered_data_message=${filtered_data_message})}"
echo "#{setValue(is_message_empty=${is_message_empty})}"
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.675 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.675 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3814/1020_3814.sh
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:04.705 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 6813
[WI-0][TI-0] - [INFO] 2024-05-06 03:55:04.707 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
[WI-0][TI-3814] - [INFO] 2024-05-06 03:55:05.127 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=3814, success=true)
[WI-0][TI-3814] - [INFO] 2024-05-06 03:55:05.138 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=3814)
[WI-0][TI-0] - [INFO] 2024-05-06 03:55:05.337 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7647058823529411 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:55:12.718 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	Processed a total of 1 messages
	#{setValue(filtered_data_message={
		"authors": "premiumplatinum",
		"content": "singapore is stupid",
		"url": "https://www.reddit.com/r/singapore/comments/1c9itat/21apr2024_orchard_road_camcar_turning_right_into/",
		"context": "21apr2024 orchard road camcar turning right into centrepoint get tbone by cyclist",
		"type": "post",
		"datetime": "2024-04-21 22:10:42"
	})}
	#{setValue(is_message_empty=0)}
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:12.720 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3814, processId:6813 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:12.721 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:12.722 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:12.722 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:12.722 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:12.727 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.18.1.1:1234
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:12.728 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:12.729 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3814
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:12.729 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3814
[WI-1020][TI-3814] - [INFO] 2024-05-06 03:55:12.730 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-3814] - [INFO] 2024-05-06 03:55:13.136 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=3814, success=true)
[WI-0][TI-0] - [INFO] 2024-05-06 03:55:14.274 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=3816, taskName=parse the message, firstSubmitTime=1714938914263, startTime=0, taskType=PYTHON, workflowInstanceHost=172.18.0.11:5678, host=172.18.1.1:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13426477386080, processDefineVersion=66, appIds=null, processInstanceId=1020, scheduleTime=0, globalParams=[{"prop":"input_topic","direct":"IN","type":"VARCHAR","value":"gnews_filtered"}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13010050770016, taskParams={"localParams":[{"prop":"authors","direct":"OUT","type":"VARCHAR","value":""},{"prop":"content","direct":"OUT","type":"VARCHAR","value":""},{"prop":"url","direct":"OUT","type":"VARCHAR","value":""},{"prop":"context","direct":"OUT","type":"VARCHAR","value":""},{"prop":"type","direct":"OUT","type":"VARCHAR","value":""},{"prop":"datetime","direct":"OUT","type":"TIMESTAMP","value":""}],"rawScript":"filtered_data_message = {\n\t\"authors\": [\n\t\t\"Erin Hale\",\n        \"sss hale\"\n\t],\n\t\"content\": \"lolcontent\",\n\t\"url\": \"lol\",\n\t\"context\": \"context\",\n\t\"type\": \"article\",\n\t\"datetime\": \"2024-05-03 13:45:22\"\n}\n\n# save the message data into separate variables\n\nauthors = filtered_data_message['authors']\n# convert the list of authors into a format that is accepted in the SQL query\nauthors = \"{\" + ', '.join([f\"\\\"{x}\\\"\" for x in authors]) + \"}\"\n\ncontent = filtered_data_message['content']\nurl = filtered_data_message['url']\ncontext = filtered_data_message['context']\ntype = filtered_data_message['type']\ndatetime = filtered_data_message['datetime']\n\n# pass the data downstream as parameters suited for the parameterized query\nprint('#{setValue(authors=%s)}' % str(authors))\nprint('#{setValue(content=%s)}' % str(content))\nprint('#{setValue(url=%s)}' % str(url))\nprint('#{setValue(context=%s)}' % str(context))\nprint('#{setValue(type=%s)}' % str(type))\nprint('#{setValue(datetime=%s)}' % str(datetime))","resourceList":[]}, environmentConfig=export PYTHON_LAUNCHER=/bin/python3.11, definedParams=null, prepareParamsMap={GNEWS_HOME=Property{prop='GNEWS_HOME', direct=IN, type=VARCHAR, value='/local_storage/google_news'}, system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='parse the message'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, REDDIT_HOME=Property{prop='REDDIT_HOME', direct=IN, type=VARCHAR, value='/local_storage/reddit'}, input_topic=Property{prop='input_topic', direct=IN, type=VARCHAR, value='gnews_filtered'}, is_message_empty=Property{prop='is_message_empty', direct=IN, type=VARCHAR, value='0'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240506'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='3816'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13426451158240'}, filtered_data_message=Property{prop='filtered_data_message', direct=IN, type=VARCHAR, value='{
	"authors": "premiumplatinum",
	"content": "singapore is stupid",
	"url": "https://www.reddit.com/r/singapore/comments/1c9itat/21apr2024_orchard_road_camcar_turning_right_into/",
	"context": "21apr2024 orchard road camcar turning right into centrepoint get tbone by cyclist",
	"type": "post",
	"datetime": "2024-04-21 22:10:42"
}'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240506035514'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13010050770016'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='1020'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240505'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='es_filtered_data_persistence_subprocess'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13426477386080'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=null, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"is_message_empty","direct":"IN","type":"VARCHAR","value":"0"},{"prop":"filtered_data_message","direct":"IN","type":"VARCHAR","value":"{\n\t\"authors\": \"premiumplatinum\",\n\t\"content\": \"singapore is stupid\",\n\t\"url\": \"https://www.reddit.com/r/singapore/comments/1c9itat/21apr2024_orchard_road_camcar_turning_right_into/\",\n\t\"context\": \"21apr2024 orchard road camcar turning right into centrepoint get tbone by cyclist\",\n\t\"type\": \"post\",\n\t\"datetime\": \"2024-04-21 22:10:42\"\n}"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.275 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: parse the message to wait queue success
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.275 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.276 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.277 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.277 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.277 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1714938914277
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.277 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 1020_3816
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.277 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 3816,
  "taskName" : "parse the message",
  "firstSubmitTime" : 1714938914263,
  "startTime" : 1714938914277,
  "taskType" : "PYTHON",
  "workflowInstanceHost" : "172.18.0.11:5678",
  "host" : "172.18.1.1:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240506/13426477386080/66/1020/3816.log",
  "processId" : 0,
  "processDefineCode" : 13426477386080,
  "processDefineVersion" : 66,
  "processInstanceId" : 1020,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"input_topic\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"gnews_filtered\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13010050770016,
  "taskParams" : "{\"localParams\":[{\"prop\":\"authors\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"content\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"url\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"context\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"type\",\"direct\":\"OUT\",\"type\":\"VARCHAR\",\"value\":\"\"},{\"prop\":\"datetime\",\"direct\":\"OUT\",\"type\":\"TIMESTAMP\",\"value\":\"\"}],\"rawScript\":\"filtered_data_message = {\\n\\t\\\"authors\\\": [\\n\\t\\t\\\"Erin Hale\\\",\\n        \\\"sss hale\\\"\\n\\t],\\n\\t\\\"content\\\": \\\"lolcontent\\\",\\n\\t\\\"url\\\": \\\"lol\\\",\\n\\t\\\"context\\\": \\\"context\\\",\\n\\t\\\"type\\\": \\\"article\\\",\\n\\t\\\"datetime\\\": \\\"2024-05-03 13:45:22\\\"\\n}\\n\\n# save the message data into separate variables\\n\\nauthors = filtered_data_message['authors']\\n# convert the list of authors into a format that is accepted in the SQL query\\nauthors = \\\"{\\\" + ', '.join([f\\\"\\\\\\\"{x}\\\\\\\"\\\" for x in authors]) + \\\"}\\\"\\n\\ncontent = filtered_data_message['content']\\nurl = filtered_data_message['url']\\ncontext = filtered_data_message['context']\\ntype = filtered_data_message['type']\\ndatetime = filtered_data_message['datetime']\\n\\n# pass the data downstream as parameters suited for the parameterized query\\nprint('#{setValue(authors=%s)}' % str(authors))\\nprint('#{setValue(content=%s)}' % str(content))\\nprint('#{setValue(url=%s)}' % str(url))\\nprint('#{setValue(context=%s)}' % str(context))\\nprint('#{setValue(type=%s)}' % str(type))\\nprint('#{setValue(datetime=%s)}' % str(datetime))\",\"resourceList\":[]}",
  "environmentConfig" : "export PYTHON_LAUNCHER=/bin/python3.11",
  "prepareParamsMap" : {
    "GNEWS_HOME" : {
      "prop" : "GNEWS_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/google_news"
    },
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "parse the message"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "REDDIT_HOME" : {
      "prop" : "REDDIT_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/reddit"
    },
    "input_topic" : {
      "prop" : "input_topic",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "gnews_filtered"
    },
    "is_message_empty" : {
      "prop" : "is_message_empty",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "0"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "3816"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13426451158240"
    },
    "filtered_data_message" : {
      "prop" : "filtered_data_message",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "{\n\t\"authors\": \"premiumplatinum\",\n\t\"content\": \"singapore is stupid\",\n\t\"url\": \"https://www.reddit.com/r/singapore/comments/1c9itat/21apr2024_orchard_road_camcar_turning_right_into/\",\n\t\"context\": \"21apr2024 orchard road camcar turning right into centrepoint get tbone by cyclist\",\n\t\"type\": \"post\",\n\t\"datetime\": \"2024-04-21 22:10:42\"\n}"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506035514"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13010050770016"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "1020"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240505"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "es_filtered_data_persistence_subprocess"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13426477386080"
    }
  },
  "taskAppId" : "1020_3816",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"is_message_empty\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"0\"},{\"prop\":\"filtered_data_message\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"{\\n\\t\\\"authors\\\": \\\"premiumplatinum\\\",\\n\\t\\\"content\\\": \\\"singapore is stupid\\\",\\n\\t\\\"url\\\": \\\"https://www.reddit.com/r/singapore/comments/1c9itat/21apr2024_orchard_road_camcar_turning_right_into/\\\",\\n\\t\\\"context\\\": \\\"21apr2024 orchard road camcar turning right into centrepoint get tbone by cyclist\\\",\\n\\t\\\"type\\\": \\\"post\\\",\\n\\t\\\"datetime\\\": \\\"2024-04-21 22:10:42\\\"\\n}\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.279 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.279 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.279 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.282 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.18.1.1:1234
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.283 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.284 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3816 check successfully
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.285 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.python.PythonTaskChannel successfully
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.285 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.285 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.286 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: PYTHON create successfully
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.286 +0800 o.a.d.p.t.p.PythonTask:[75] - Initialize python task params {
  "localParams" : [ {
    "prop" : "authors",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  }, {
    "prop" : "content",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  }, {
    "prop" : "url",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  }, {
    "prop" : "context",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  }, {
    "prop" : "type",
    "direct" : "OUT",
    "type" : "VARCHAR",
    "value" : ""
  }, {
    "prop" : "datetime",
    "direct" : "OUT",
    "type" : "TIMESTAMP",
    "value" : ""
  } ],
  "varPool" : null,
  "rawScript" : "filtered_data_message = {\n\t\"authors\": [\n\t\t\"Erin Hale\",\n        \"sss hale\"\n\t],\n\t\"content\": \"lolcontent\",\n\t\"url\": \"lol\",\n\t\"context\": \"context\",\n\t\"type\": \"article\",\n\t\"datetime\": \"2024-05-03 13:45:22\"\n}\n\n# save the message data into separate variables\n\nauthors = filtered_data_message['authors']\n# convert the list of authors into a format that is accepted in the SQL query\nauthors = \"{\" + ', '.join([f\"\\\"{x}\\\"\" for x in authors]) + \"}\"\n\ncontent = filtered_data_message['content']\nurl = filtered_data_message['url']\ncontext = filtered_data_message['context']\ntype = filtered_data_message['type']\ndatetime = filtered_data_message['datetime']\n\n# pass the data downstream as parameters suited for the parameterized query\nprint('#{setValue(authors=%s)}' % str(authors))\nprint('#{setValue(content=%s)}' % str(content))\nprint('#{setValue(url=%s)}' % str(url))\nprint('#{setValue(context=%s)}' % str(context))\nprint('#{setValue(type=%s)}' % str(type))\nprint('#{setValue(datetime=%s)}' % str(datetime))",
  "resourceList" : [ ]
}
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.286 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.286 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"is_message_empty","direct":"IN","type":"VARCHAR","value":"0"},{"prop":"filtered_data_message","direct":"IN","type":"VARCHAR","value":"{\n\t\"authors\": \"premiumplatinum\",\n\t\"content\": \"singapore is stupid\",\n\t\"url\": \"https://www.reddit.com/r/singapore/comments/1c9itat/21apr2024_orchard_road_camcar_turning_right_into/\",\n\t\"context\": \"21apr2024 orchard road camcar turning right into centrepoint get tbone by cyclist\",\n\t\"type\": \"post\",\n\t\"datetime\": \"2024-04-21 22:10:42\"\n}"}] successfully
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.286 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.287 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.293 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.296 +0800 o.a.d.p.t.p.PythonTask:[165] - raw python script : filtered_data_message = {
	"authors": [
		"Erin Hale",
        "sss hale"
	],
	"content": "lolcontent",
	"url": "lol",
	"context": "context",
	"type": "article",
	"datetime": "2024-05-03 13:45:22"
}

# save the message data into separate variables

authors = filtered_data_message['authors']
# convert the list of authors into a format that is accepted in the SQL query
authors = "{" + ', '.join([f"\"{x}\"" for x in authors]) + "}"

content = filtered_data_message['content']
url = filtered_data_message['url']
context = filtered_data_message['context']
type = filtered_data_message['type']
datetime = filtered_data_message['datetime']

# pass the data downstream as parameters suited for the parameterized query
print('#{setValue(authors=%s)}' % str(authors))
print('#{setValue(content=%s)}' % str(content))
print('#{setValue(url=%s)}' % str(url))
print('#{setValue(context=%s)}' % str(context))
print('#{setValue(type=%s)}' % str(type))
print('#{setValue(datetime=%s)}' % str(datetime))
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.297 +0800 o.a.d.p.t.p.PythonTask:[131] - tenantCode :default, task dir:/tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3816
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.297 +0800 o.a.d.p.t.p.PythonTask:[134] - generate python script file:/tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3816/py_1020_3816.py
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.297 +0800 o.a.d.p.t.p.PythonTask:[141] - #-*- encoding=utf8 -*-

filtered_data_message = {
	"authors": [
		"Erin Hale",
        "sss hale"
	],
	"content": "lolcontent",
	"url": "lol",
	"context": "context",
	"type": "article",
	"datetime": "2024-05-03 13:45:22"
}

# save the message data into separate variables

authors = filtered_data_message['authors']
# convert the list of authors into a format that is accepted in the SQL query
authors = "{" + ', '.join([f"\"{x}\"" for x in authors]) + "}"

content = filtered_data_message['content']
url = filtered_data_message['url']
context = filtered_data_message['context']
type = filtered_data_message['type']
datetime = filtered_data_message['datetime']

# pass the data downstream as parameters suited for the parameterized query
print('#{setValue(authors=%s)}' % str(authors))
print('#{setValue(content=%s)}' % str(content))
print('#{setValue(url=%s)}' % str(url))
print('#{setValue(context=%s)}' % str(context))
print('#{setValue(type=%s)}' % str(type))
print('#{setValue(datetime=%s)}' % str(datetime))
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.300 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[64] - Final Shell file is: 
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.300 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[65] - ****************************** Script Content *****************************************************************
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.300 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[67] - #!/bin/bash
BASEDIR=$(cd `dirname $0`; pwd)
cd $BASEDIR
export PYTHON_LAUNCHER=/bin/python3.11
${PYTHON_LAUNCHER} /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3816/py_1020_3816.py
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.300 +0800 o.a.d.p.t.a.s.BaseLinuxShellInterceptorBuilder:[68] - ****************************** Script Content *****************************************************************
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.300 +0800 o.a.d.p.t.a.s.BaseShellInterceptor:[46] - Executing shell command : sudo -u default -i /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3816/1020_3816.sh
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:14.315 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[154] - process start, process id is: 7218
[WI-0][TI-0] - [INFO] 2024-05-06 03:55:14.316 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	sudo: unable to change directory to /home/default: No such file or directory
[WI-0][TI-3816] - [INFO] 2024-05-06 03:55:15.143 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=3816, success=true)
[WI-0][TI-3816] - [INFO] 2024-05-06 03:55:15.157 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionInfoEventAckListenFunction:[45] - Receive TaskInstanceExecutionInfoEventAck: TaskInstanceExecutionInfoEventAck(success=true, taskInstanceId=3816)
[WI-0][TI-0] - [INFO] 2024-05-06 03:55:15.330 +0800 o.a.d.p.t.a.AbstractTask:[169] -  -> 
	#{setValue(authors={"Erin Hale", "sss hale"})}
	#{setValue(content=lolcontent)}
	#{setValue(url=lol)}
	#{setValue(context=context)}
	#{setValue(type=article)}
	#{setValue(datetime=2024-05-03 13:45:22)}
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:15.333 +0800 o.a.d.p.t.a.AbstractCommandExecutor:[204] - process has exited. execute path:/tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3816, processId:7218 ,exitStatusCode:0 ,processWaitForStatus:true ,processExitValue:0
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:15.334 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:15.335 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:15.335 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:15.335 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:15.350 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.18.1.1:1234
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:15.350 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:15.350 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3816
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:15.355 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3816
[WI-1020][TI-3816] - [INFO] 2024-05-06 03:55:15.355 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-3816] - [INFO] 2024-05-06 03:55:16.144 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=3816, success=true)
[WI-0][TI-0] - [INFO] 2024-05-06 03:55:16.214 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[53] - Receive TaskInstanceDispatchRequest: TaskInstanceDispatchRequest(taskExecutionContext=TaskExecutionContext(taskInstanceId=3817, taskName=persist in postgresql, firstSubmitTime=1714938916200, startTime=0, taskType=SQL, workflowInstanceHost=172.18.0.11:5678, host=172.18.1.1:1234, executePath=null, logPath=null, appInfoPath=null, taskJson=null, processId=0, processDefineCode=13426477386080, processDefineVersion=66, appIds=null, processInstanceId=1020, scheduleTime=0, globalParams=[{"prop":"input_topic","direct":"IN","type":"VARCHAR","value":"gnews_filtered"}], executorId=1, cmdTypeIfComplement=0, tenantCode=default, processDefineId=0, projectId=0, projectCode=13010050770016, taskParams={"localParams":[],"resourceList":[],"type":"POSTGRESQL","datasource":1,"sql":"INSERT INTO filtered_data_persistence\nVALUES (CAST(${authors} AS VARCHAR[]), ${content}, ${url}, ${context}, ${type}, ${datetime})\n","sqlType":"1","preStatements":[],"postStatements":[],"displayRows":10}, environmentConfig=export PYTHON_LAUNCHER=/bin/python3.11, definedParams=null, prepareParamsMap={GNEWS_HOME=Property{prop='GNEWS_HOME', direct=IN, type=VARCHAR, value='/local_storage/google_news'}, system.task.definition.name=Property{prop='system.task.definition.name', direct=IN, type=VARCHAR, value='persist in postgresql'}, system.project.name=Property{prop='system.project.name', direct=IN, type=VARCHAR, value='null'}, REDDIT_HOME=Property{prop='REDDIT_HOME', direct=IN, type=VARCHAR, value='/local_storage/reddit'}, input_topic=Property{prop='input_topic', direct=IN, type=VARCHAR, value='gnews_filtered'}, is_message_empty=Property{prop='is_message_empty', direct=IN, type=VARCHAR, value='0'}, system.biz.curdate=Property{prop='system.biz.curdate', direct=IN, type=VARCHAR, value='20240506'}, system.task.instance.id=Property{prop='system.task.instance.id', direct=IN, type=VARCHAR, value='3817'}, type=Property{prop='type', direct=IN, type=VARCHAR, value='article'}, system.task.definition.code=Property{prop='system.task.definition.code', direct=IN, type=VARCHAR, value='13427698681952'}, filtered_data_message=Property{prop='filtered_data_message', direct=IN, type=VARCHAR, value='{
	"authors": "premiumplatinum",
	"content": "singapore is stupid",
	"url": "https://www.reddit.com/r/singapore/comments/1c9itat/21apr2024_orchard_road_camcar_turning_right_into/",
	"context": "21apr2024 orchard road camcar turning right into centrepoint get tbone by cyclist",
	"type": "post",
	"datetime": "2024-04-21 22:10:42"
}'}, content=Property{prop='content', direct=IN, type=VARCHAR, value='lolcontent'}, url=Property{prop='url', direct=IN, type=VARCHAR, value='lol'}, system.datetime=Property{prop='system.datetime', direct=IN, type=VARCHAR, value='20240506035516'}, datetime=Property{prop='datetime', direct=IN, type=TIMESTAMP, value='2024-05-03 13:45:22'}, system.project.code=Property{prop='system.project.code', direct=IN, type=VARCHAR, value='13010050770016'}, system.workflow.instance.id=Property{prop='system.workflow.instance.id', direct=IN, type=VARCHAR, value='1020'}, context=Property{prop='context', direct=IN, type=VARCHAR, value='context'}, system.biz.date=Property{prop='system.biz.date', direct=IN, type=VARCHAR, value='20240505'}, system.workflow.definition.name=Property{prop='system.workflow.definition.name', direct=IN, type=VARCHAR, value='es_filtered_data_persistence_subprocess'}, system.workflow.definition.code=Property{prop='system.workflow.definition.code', direct=IN, type=VARCHAR, value='13426477386080'}, authors=Property{prop='authors', direct=IN, type=VARCHAR, value='{"Erin Hale", "sss hale"}'}}, taskAppId=null, taskTimeoutStrategy=null, taskTimeout=2147483647, workerGroup=default, delayTime=0, currentExecutionStatus=TaskExecutionStatus{code=0, desc='submit success'}, resourceParametersHelper=org.apache.dolphinscheduler.plugin.task.api.parameters.resource.ResourceParametersHelper@3ca1bcea, endTime=0, sqlTaskExecutionContext=null, k8sTaskExecutionContext=null, resourceContext=null, varPool=[{"prop":"datetime","direct":"IN","type":"TIMESTAMP","value":"2024-05-03 13:45:22"},{"prop":"is_message_empty","direct":"IN","type":"VARCHAR","value":"0"},{"prop":"context","direct":"IN","type":"VARCHAR","value":"context"},{"prop":"type","direct":"IN","type":"VARCHAR","value":"article"},{"prop":"filtered_data_message","direct":"IN","type":"VARCHAR","value":"{\n\t\"authors\": \"premiumplatinum\",\n\t\"content\": \"singapore is stupid\",\n\t\"url\": \"https://www.reddit.com/r/singapore/comments/1c9itat/21apr2024_orchard_road_camcar_turning_right_into/\",\n\t\"context\": \"21apr2024 orchard road camcar turning right into centrepoint get tbone by cyclist\",\n\t\"type\": \"post\",\n\t\"datetime\": \"2024-04-21 22:10:42\"\n}"},{"prop":"content","direct":"IN","type":"VARCHAR","value":"lolcontent"},{"prop":"url","direct":"IN","type":"VARCHAR","value":"lol"},{"prop":"authors","direct":"IN","type":"VARCHAR","value":"{\"Erin Hale\", \"sss hale\"}"}], dryRun=0, paramsMap={}, dataQualityTaskExecutionContext=null, cpuQuota=-1, memoryMax=-1, testFlag=0, logBufferEnable=false, dispatchFailTimes=0))
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.215 +0800 o.a.d.s.w.r.o.TaskInstanceDispatchOperationFunction:[79] - Submit task: persist in postgresql to wait queue success
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.216 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.217 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Initialize task context  ***********************************
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.217 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.217 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[191] - Begin to initialize task
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.217 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[195] - Set task startTime: 1714938916217
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.218 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[200] - Set task appId: 1020_3817
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.218 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[202] - End initialize task {
  "taskInstanceId" : 3817,
  "taskName" : "persist in postgresql",
  "firstSubmitTime" : 1714938916200,
  "startTime" : 1714938916217,
  "taskType" : "SQL",
  "workflowInstanceHost" : "172.18.0.11:5678",
  "host" : "172.18.1.1:1234",
  "logPath" : "/opt/dolphinscheduler/logs/20240506/13426477386080/66/1020/3817.log",
  "processId" : 0,
  "processDefineCode" : 13426477386080,
  "processDefineVersion" : 66,
  "processInstanceId" : 1020,
  "scheduleTime" : 0,
  "globalParams" : "[{\"prop\":\"input_topic\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"gnews_filtered\"}]",
  "executorId" : 1,
  "cmdTypeIfComplement" : 0,
  "tenantCode" : "default",
  "processDefineId" : 0,
  "projectId" : 0,
  "projectCode" : 13010050770016,
  "taskParams" : "{\"localParams\":[],\"resourceList\":[],\"type\":\"POSTGRESQL\",\"datasource\":1,\"sql\":\"INSERT INTO filtered_data_persistence\\nVALUES (CAST(${authors} AS VARCHAR[]), ${content}, ${url}, ${context}, ${type}, ${datetime})\\n\",\"sqlType\":\"1\",\"preStatements\":[],\"postStatements\":[],\"displayRows\":10}",
  "environmentConfig" : "export PYTHON_LAUNCHER=/bin/python3.11",
  "prepareParamsMap" : {
    "GNEWS_HOME" : {
      "prop" : "GNEWS_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/google_news"
    },
    "system.task.definition.name" : {
      "prop" : "system.task.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "persist in postgresql"
    },
    "system.project.name" : {
      "prop" : "system.project.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : null
    },
    "REDDIT_HOME" : {
      "prop" : "REDDIT_HOME",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "/local_storage/reddit"
    },
    "input_topic" : {
      "prop" : "input_topic",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "gnews_filtered"
    },
    "is_message_empty" : {
      "prop" : "is_message_empty",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "0"
    },
    "system.biz.curdate" : {
      "prop" : "system.biz.curdate",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506"
    },
    "system.task.instance.id" : {
      "prop" : "system.task.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "3817"
    },
    "type" : {
      "prop" : "type",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "article"
    },
    "system.task.definition.code" : {
      "prop" : "system.task.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13427698681952"
    },
    "filtered_data_message" : {
      "prop" : "filtered_data_message",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "{\n\t\"authors\": \"premiumplatinum\",\n\t\"content\": \"singapore is stupid\",\n\t\"url\": \"https://www.reddit.com/r/singapore/comments/1c9itat/21apr2024_orchard_road_camcar_turning_right_into/\",\n\t\"context\": \"21apr2024 orchard road camcar turning right into centrepoint get tbone by cyclist\",\n\t\"type\": \"post\",\n\t\"datetime\": \"2024-04-21 22:10:42\"\n}"
    },
    "content" : {
      "prop" : "content",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "lolcontent"
    },
    "url" : {
      "prop" : "url",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "lol"
    },
    "system.datetime" : {
      "prop" : "system.datetime",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240506035516"
    },
    "datetime" : {
      "prop" : "datetime",
      "direct" : "IN",
      "type" : "TIMESTAMP",
      "value" : "2024-05-03 13:45:22"
    },
    "system.project.code" : {
      "prop" : "system.project.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13010050770016"
    },
    "system.workflow.instance.id" : {
      "prop" : "system.workflow.instance.id",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "1020"
    },
    "context" : {
      "prop" : "context",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "context"
    },
    "system.biz.date" : {
      "prop" : "system.biz.date",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "20240505"
    },
    "system.workflow.definition.name" : {
      "prop" : "system.workflow.definition.name",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "es_filtered_data_persistence_subprocess"
    },
    "system.workflow.definition.code" : {
      "prop" : "system.workflow.definition.code",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "13426477386080"
    },
    "authors" : {
      "prop" : "authors",
      "direct" : "IN",
      "type" : "VARCHAR",
      "value" : "{\"Erin Hale\", \"sss hale\"}"
    }
  },
  "taskAppId" : "1020_3817",
  "taskTimeout" : 2147483647,
  "workerGroup" : "default",
  "delayTime" : 0,
  "currentExecutionStatus" : "SUBMITTED_SUCCESS",
  "resourceParametersHelper" : {
    "resourceMap" : {
      "DATASOURCE" : {
        "1" : {
          "resourceType" : "DATASOURCE",
          "type" : "POSTGRESQL",
          "connectionParams" : "{\"user\":\"root\",\"password\":\"******\",\"address\":\"jdbc:postgresql://dolphinscheduler-postgresql:5432\",\"database\":\"persistence\",\"jdbcUrl\":\"jdbc:postgresql://dolphinscheduler-postgresql:5432/persistence\",\"driverClassName\":\"org.postgresql.Driver\",\"validationQuery\":\"select version()\",\"other\":{\"password\":\"root\"}}",
          "DATASOURCE" : null
        }
      }
    }
  },
  "endTime" : 0,
  "varPool" : "[{\"prop\":\"datetime\",\"direct\":\"IN\",\"type\":\"TIMESTAMP\",\"value\":\"2024-05-03 13:45:22\"},{\"prop\":\"is_message_empty\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"0\"},{\"prop\":\"context\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"context\"},{\"prop\":\"type\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"article\"},{\"prop\":\"filtered_data_message\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"{\\n\\t\\\"authors\\\": \\\"premiumplatinum\\\",\\n\\t\\\"content\\\": \\\"singapore is stupid\\\",\\n\\t\\\"url\\\": \\\"https://www.reddit.com/r/singapore/comments/1c9itat/21apr2024_orchard_road_camcar_turning_right_into/\\\",\\n\\t\\\"context\\\": \\\"21apr2024 orchard road camcar turning right into centrepoint get tbone by cyclist\\\",\\n\\t\\\"type\\\": \\\"post\\\",\\n\\t\\\"datetime\\\": \\\"2024-04-21 22:10:42\\\"\\n}\"},{\"prop\":\"content\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"lolcontent\"},{\"prop\":\"url\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"lol\"},{\"prop\":\"authors\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"{\\\"Erin Hale\\\", \\\"sss hale\\\"}\"}]",
  "dryRun" : 0,
  "paramsMap" : { },
  "cpuQuota" : -1,
  "memoryMax" : -1,
  "testFlag" : 0,
  "logBufferEnable" : false,
  "dispatchFailTimes" : 0
}
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.219 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.219 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Load task instance plugin  *********************************
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.219 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.223 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[209] - Send task status RUNNING_EXECUTION master: 172.18.1.1:1234
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.223 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[217] - TenantCode: default check successfully
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.224 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[220] - WorkflowInstanceExecDir: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3817 check successfully
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.224 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[227] - Create TaskChannel: org.apache.dolphinscheduler.plugin.task.sql.SqlTaskChannel successfully
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.224 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[232] - Download resources successfully: 
ResourceContext(resourceItemMap={})
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.224 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[235] - Download upstream files: [] successfully
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.224 +0800 o.a.d.p.t.s.SqlTask:[99] - Initialize sql task parameter {
  "localParams" : [ ],
  "varPool" : null,
  "type" : "POSTGRESQL",
  "datasource" : 1,
  "sql" : "INSERT INTO filtered_data_persistence\nVALUES (CAST(${authors} AS VARCHAR[]), ${content}, ${url}, ${context}, ${type}, ${datetime})\n",
  "sqlType" : 1,
  "sendEmail" : null,
  "displayRows" : 10,
  "udfs" : null,
  "showType" : null,
  "connParams" : null,
  "preStatements" : [ ],
  "postStatements" : [ ],
  "groupId" : 0,
  "title" : null,
  "limit" : 0
}
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.225 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[239] - Task plugin instance: SQL create successfully
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.225 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[243] - Success initialized task plugin instance successfully
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.225 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[246] - Set taskVarPool: [{"prop":"datetime","direct":"IN","type":"TIMESTAMP","value":"2024-05-03 13:45:22"},{"prop":"is_message_empty","direct":"IN","type":"VARCHAR","value":"0"},{"prop":"context","direct":"IN","type":"VARCHAR","value":"context"},{"prop":"type","direct":"IN","type":"VARCHAR","value":"article"},{"prop":"filtered_data_message","direct":"IN","type":"VARCHAR","value":"{\n\t\"authors\": \"premiumplatinum\",\n\t\"content\": \"singapore is stupid\",\n\t\"url\": \"https://www.reddit.com/r/singapore/comments/1c9itat/21apr2024_orchard_road_camcar_turning_right_into/\",\n\t\"context\": \"21apr2024 orchard road camcar turning right into centrepoint get tbone by cyclist\",\n\t\"type\": \"post\",\n\t\"datetime\": \"2024-04-21 22:10:42\"\n}"},{"prop":"content","direct":"IN","type":"VARCHAR","value":"lolcontent"},{"prop":"url","direct":"IN","type":"VARCHAR","value":"lol"},{"prop":"authors","direct":"IN","type":"VARCHAR","value":"{\"Erin Hale\", \"sss hale\"}"}] successfully
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.225 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.225 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Execute task instance  *************************************
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.225 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.225 +0800 o.a.d.p.t.s.SqlTask:[119] - Full sql parameters: SqlParameters{type='POSTGRESQL', datasource=1, sql='INSERT INTO filtered_data_persistence
VALUES (CAST(${authors} AS VARCHAR[]), ${content}, ${url}, ${context}, ${type}, ${datetime})
', sqlType=1, sendEmail=null, displayRows=10, limit=0, udfs='null', showType='null', connParams='null', groupId='0', title='null', preStatements=[], postStatements=[]}
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.225 +0800 o.a.d.p.t.s.SqlTask:[120] - sql type : POSTGRESQL, datasource : 1, sql : INSERT INTO filtered_data_persistence
VALUES (CAST(${authors} AS VARCHAR[]), ${content}, ${url}, ${context}, ${type}, ${datetime})
 , localParams : [],udfs : null,showType : null,connParams : null,varPool : [Property{prop='datetime', direct=IN, type=TIMESTAMP, value='2024-05-03 13:45:22'}, Property{prop='is_message_empty', direct=IN, type=VARCHAR, value='0'}, Property{prop='context', direct=IN, type=VARCHAR, value='context'}, Property{prop='type', direct=IN, type=VARCHAR, value='article'}, Property{prop='filtered_data_message', direct=IN, type=VARCHAR, value='{
	"authors": "premiumplatinum",
	"content": "singapore is stupid",
	"url": "https://www.reddit.com/r/singapore/comments/1c9itat/21apr2024_orchard_road_camcar_turning_right_into/",
	"context": "21apr2024 orchard road camcar turning right into centrepoint get tbone by cyclist",
	"type": "post",
	"datetime": "2024-04-21 22:10:42"
}'}, Property{prop='content', direct=IN, type=VARCHAR, value='lolcontent'}, Property{prop='url', direct=IN, type=VARCHAR, value='lol'}, Property{prop='authors', direct=IN, type=VARCHAR, value='{"Erin Hale", "sss hale"}'}] ,query max result limit  0
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.237 +0800 o.a.d.p.t.a.AbstractTask:[206] - setSqlParamsMap: Property with paramName: authors put in sqlParamsMap of content INSERT INTO filtered_data_persistence
VALUES (CAST(${authors} AS VARCHAR[]), ${content}, ${url}, ${context}, ${type}, ${datetime})
 successfully.
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.237 +0800 o.a.d.p.t.a.AbstractTask:[206] - setSqlParamsMap: Property with paramName: content put in sqlParamsMap of content INSERT INTO filtered_data_persistence
VALUES (CAST(${authors} AS VARCHAR[]), ${content}, ${url}, ${context}, ${type}, ${datetime})
 successfully.
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.238 +0800 o.a.d.p.t.a.AbstractTask:[206] - setSqlParamsMap: Property with paramName: url put in sqlParamsMap of content INSERT INTO filtered_data_persistence
VALUES (CAST(${authors} AS VARCHAR[]), ${content}, ${url}, ${context}, ${type}, ${datetime})
 successfully.
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.238 +0800 o.a.d.p.t.a.AbstractTask:[206] - setSqlParamsMap: Property with paramName: context put in sqlParamsMap of content INSERT INTO filtered_data_persistence
VALUES (CAST(${authors} AS VARCHAR[]), ${content}, ${url}, ${context}, ${type}, ${datetime})
 successfully.
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.238 +0800 o.a.d.p.t.a.AbstractTask:[206] - setSqlParamsMap: Property with paramName: type put in sqlParamsMap of content INSERT INTO filtered_data_persistence
VALUES (CAST(${authors} AS VARCHAR[]), ${content}, ${url}, ${context}, ${type}, ${datetime})
 successfully.
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.238 +0800 o.a.d.p.t.a.AbstractTask:[206] - setSqlParamsMap: Property with paramName: datetime put in sqlParamsMap of content INSERT INTO filtered_data_persistence
VALUES (CAST(${authors} AS VARCHAR[]), ${content}, ${url}, ${context}, ${type}, ${datetime})
 successfully.
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.238 +0800 o.a.d.p.t.s.SqlTask:[410] - after replace sql , preparing : INSERT INTO filtered_data_persistence
VALUES (CAST(? AS VARCHAR[]), ?, ?, ?, ?, ?)

[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.238 +0800 o.a.d.p.t.s.SqlTask:[420] - Sql Params are replaced sql , parameters:{"Erin Hale", "sss hale"}(VARCHAR)lolcontent(VARCHAR)lol(VARCHAR)context(VARCHAR)article(VARCHAR)2024-05-03 13:45:22(TIMESTAMP)
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.238 +0800 o.a.d.p.t.s.SqlTask:[489] - can't find udf function resource
[WI-1020][TI-3817] - [WARN] 2024-05-06 03:55:16.239 +0800 n.s.c.j.SnowflakeConnectString:[136] - Connect strings must start with jdbc:snowflake://
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.281 +0800 o.a.d.p.t.s.SqlTask:[392] - prepare statement replace sql : INSERT INTO filtered_data_persistence
VALUES (CAST(? AS VARCHAR[]), ?, ?, ?, ?, ?)
, sql parameters : {1=Property{prop='authors', direct=IN, type=VARCHAR, value='{"Erin Hale", "sss hale"}'}, 2=Property{prop='content', direct=IN, type=VARCHAR, value='lolcontent'}, 3=Property{prop='url', direct=IN, type=VARCHAR, value='lol'}, 4=Property{prop='context', direct=IN, type=VARCHAR, value='context'}, 5=Property{prop='type', direct=IN, type=VARCHAR, value='article'}, 6=Property{prop='datetime', direct=IN, type=TIMESTAMP, value='2024-05-03 13:45:22'}}
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.287 +0800 o.a.d.p.t.s.SqlTask:[328] - main statement execute update result: 1, for sql: INSERT INTO filtered_data_persistence
VALUES (CAST(? AS VARCHAR[]), ?, ?, ?, ?, ?)

[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.287 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.287 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - *********************************  Finalize task instance  ************************************
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.287 +0800 o.a.d.p.t.a.l.TaskInstanceLogHeader:[1259] - ***********************************************************************************************
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.288 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[289] - Upload output files: [] successfully
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.290 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[294] - Send task execute status: SUCCESS to master : 172.18.1.1:1234
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.291 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[111] - Remove the current task execute context from worker cache
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.291 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[301] - The current execute mode isn't develop mode, will clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3817
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.292 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[316] - Success clear the task execute file: /tmp/dolphinscheduler/exec/process/default/13010050770016/13426477386080_66/1020/3817
[WI-1020][TI-3817] - [INFO] 2024-05-06 03:55:16.292 +0800 o.a.d.s.w.r.WorkerTaskExecutor:[342] - FINALIZE_SESSION
[WI-0][TI-3817] - [INFO] 2024-05-06 03:55:17.175 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionRunningEventAckListenFunction:[44] - Receive TaskInstanceExecutionRunningEventAck: TaskInstanceExecutionRunningEventAck(taskInstanceId=3817, success=true)
[WI-0][TI-3817] - [INFO] 2024-05-06 03:55:17.216 +0800 o.a.d.s.w.r.l.TaskInstanceExecutionFinishEventAckListenFunction:[44] - Receive TaskInstanceExecutionFinishEventAck: TaskInstanceExecutionFinishEventAck(taskInstanceId=3817, success=true)
[WI-0][TI-0] - [INFO] 2024-05-06 03:55:17.487 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8567164179104478 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:55:18.506 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7181208053691275 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:56:45.990 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7436708860759493 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:57:18.118 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7014925373134329 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:57:20.165 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.7168674698795181 is over then the MaxCpuUsagePercentageThresholds 0.7
[WI-0][TI-0] - [INFO] 2024-05-06 03:57:24.189 +0800 o.a.d.s.w.c.WorkerServerLoadProtection:[48] - Worker OverLoad: the TotalCpuUsedPercentage: 0.8364197530864197 is over then the MaxCpuUsagePercentageThresholds 0.7
